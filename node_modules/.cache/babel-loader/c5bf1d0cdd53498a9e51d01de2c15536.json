{"ast":null,"code":"import _regeneratorRuntime from \"/Users/macbook/Desktop/a.micole/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/macbook/Desktop/a.micole/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/macbook/Desktop/a.micole/src/views/Mensajes.js\";\nimport React from \"react\"; // reactstrap components\n\nimport { Badge, Button, Card, CardHeader, CardBody, CardFooter, CardTitle, CardText, Label, FormGroup, Input, Alert, Table, Row, Col, UncontrolledTooltip, Form } from \"reactstrap\";\nimport ReactBSAlert from \"react-bootstrap-sweetalert\";\nimport ReactDatetime from \"react-datetime\";\nimport defaultImage from \"assets/img/image_placeholder.jpg\";\nimport defaultAvatar from \"assets/img/placeholder.jpg\";\nimport Select from \"react-select\";\nimport * as mainActions from \"../actions/mainActions\";\nimport { connect } from 'react-redux';\nimport { uploadFile } from 'react-s3';\n\nclass Mensajes extends React.Component {\n  constructor() {\n    var _this;\n\n    super();\n    _this = this;\n\n    this.setGrado = value => {\n      this.setState({\n        singleSelect: value\n      });\n\n      if (value.value > 6) {\n        this.setState({\n          materias: this.props.Secundaria\n        });\n      } else {\n        this.setState({\n          materias: this.props.Primaria\n        });\n      }\n    };\n\n    this.setSeccion = value => {\n      this.setState({\n        seccion: value\n      });\n    };\n\n    this.componentDidMount = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _this.props.verCredenciales();\n\n            if (!_this.props.colegio.id) {\n              _this.props.history.push(\"/auth/login\");\n            }\n\n            _context.next = 4;\n            return _this.RegistrarMensaje(_this.props.colegio.id, \"*\");\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    this.RegistrarMensaje = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var data, url;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            data = {\n              grado: _this.state.singleSelect,\n              seccion: _this.state.seccion,\n              fecha: _this.state.fecha,\n              mensaje: _this.state.mensaje\n            };\n            url = 'https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/registrarMensaje';\n            fetch(url, {\n              method: 'POST',\n              body: JSON.stringify(data),\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              Accept: 'application/json'\n            }).then( /*#__PURE__*/function () {\n              var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(resp) {\n                var nube;\n                return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) switch (_context2.prev = _context2.next) {\n                    case 0:\n                      nube = /*#__PURE__*/React.createElement(Alert, {\n                        color: \"success\",\n                        __self: _this,\n                        __source: {\n                          fileName: _jsxFileName,\n                          lineNumber: 115,\n                          columnNumber: 11\n                        }\n                      }, /*#__PURE__*/React.createElement(\"span\", {\n                        __self: _this,\n                        __source: {\n                          fileName: _jsxFileName,\n                          lineNumber: 116,\n                          columnNumber: 13\n                        }\n                      }, \"Mensaje registrado\"));\n\n                      _this.setState({\n                        guardado: nube,\n                        asignatura: null,\n                        singleSelect: null,\n                        subirRecurso: false,\n                        mensaje: null\n                      });\n\n                      _this.props.setData({\n                        grado: _this.state.grado,\n                        seccion: _this.state.seccion,\n                        fecha: _this.state.fecha,\n                        mensaje: _this.state.mensaje\n                      });\n\n                    case 3:\n                    case \"end\":\n                      return _context2.stop();\n                  }\n                }, _callee2);\n              }));\n\n              return function (_x) {\n                return _ref3.apply(this, arguments);\n              };\n            }()).catch(error => {\n              console.log(error);\n            });\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n    this.state = {\n      singleSelect: null,\n      tareas: [],\n      subiendo: null,\n      materias: null,\n      seccion: null,\n      asignatura: null,\n      file: null,\n      imagePreviewUrl: defaultImage,\n      titulo: null,\n      fecha: null,\n      Grado: [],\n      Seccion: [],\n      Primaria: [],\n      Secundaria: [],\n      modulos: [],\n      itemscurriculo: [],\n      curriculo: null,\n      acepta: \"*\",\n      parabuscar: null,\n      subirRecurso: null,\n      mensaje: null,\n      enviados: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleRemove = this.handleRemove.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n  }\n\n  handleClick(e) {}\n\n  handleRemove() {\n    this.setState({\n      file: null,\n      imagePreviewUrl: this.props.avatar ? defaultAvatar : defaultImage\n    });\n    this.refs.fileInput.value = null;\n  }\n\n  uploadFile() {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var file, materia, nummateria, subiendo;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            file = _this2.state.file;\n            materia = \"*\";\n            nummateria = \"0\";\n\n            if (_this2.state.asignatura !== null) {\n              materia = _this2.state.asignatura.label;\n              nummateria = _this2.state.asignatura.value;\n            }\n\n            if (!file) {\n              _context5.next = 9;\n              break;\n            }\n\n            subiendo = /*#__PURE__*/React.createElement(Alert, {\n              color: \"info\",\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 9\n              }\n            }, /*#__PURE__*/React.createElement(\"span\", {\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 11\n              }\n            }, \"Subiendo Recurso\"));\n\n            _this2.setState({\n              subiendo: subiendo\n            });\n\n            _context5.next = 9;\n            return uploadFile(file, {\n              bucketName: 'pruebareact',\n              dirName: 'aprende',\n              region: 'us-east-1',\n              accessKeyId: _this2.props.as3,\n              secretAccessKey: _this2.props.ss3\n            }).then(data => {\n              const datadir = {\n                direccion: data.location,\n                codigoweb: _this2.props.alumno.codigoweb,\n                alumno: _this2.props.alumno.apellidos + \", \" + _this2.props.alumno.nombres,\n                grado: _this2.props.alumno.grado,\n                materia: materia,\n                nummateria: nummateria,\n                idtarea: _this2.state.tarea.id,\n                titulo: _this2.state.tarea.titulo,\n                mensaje: _this2.state.mensaje,\n                tipodoc: _this2.state.tipodoc,\n                size: _this2.state.file.size,\n                tipo: _this2.state.file.type\n              };\n              let url = 'https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/registrarMensaje';\n              fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(datadir),\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                Accept: 'application/json'\n              }).then( /*#__PURE__*/function () {\n                var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(resp) {\n                  var nube;\n                  return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) switch (_context4.prev = _context4.next) {\n                      case 0:\n                        nube = /*#__PURE__*/React.createElement(Alert, {\n                          color: \"success\",\n                          __self: _this2,\n                          __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 181,\n                            columnNumber: 17\n                          }\n                        }, /*#__PURE__*/React.createElement(\"span\", {\n                          __self: _this2,\n                          __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 182,\n                            columnNumber: 19\n                          }\n                        }, \"Recurso en la nube\"));\n\n                        _this2.setState({\n                          subiendo: nube,\n                          asignatura: null,\n                          singleSelect: null\n                        });\n\n                        _context4.next = 4;\n                        return _this2.props.verTareas(_this2.props.alumno);\n\n                      case 4:\n                        _this2.setState({\n                          subirRecurso: false,\n                          mensaje: null,\n                          file: null,\n                          imagePreviewUrl: null\n                        });\n\n                      case 5:\n                      case \"end\":\n                        return _context4.stop();\n                    }\n                  }, _callee4);\n                }));\n\n                return function (_x2) {\n                  return _ref4.apply(this, arguments);\n                };\n              }()).catch(error => {\n                let msjerror = /*#__PURE__*/React.createElement(Alert, {\n                  color: \"danger\",\n                  __self: _this2,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 15\n                  }\n                }, /*#__PURE__*/React.createElement(\"span\", {\n                  __self: _this2,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 17\n                  }\n                }, \"Faltan Datos\"));\n\n                _this2.setState({\n                  subiendo: msjerror\n                });\n              });\n            }).catch(err => {\n              let msjerror = /*#__PURE__*/React.createElement(Alert, {\n                color: \"danger\",\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 13\n                }\n              }, /*#__PURE__*/React.createElement(\"span\", {\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 15\n                }\n              }, \"Faltan Datos\"));\n\n              _this2.setState({\n                subiendo: msjerror\n              });\n            });\n\n          case 9:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5);\n    }))();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      lg: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardTitle, {\n      tag: \"h4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 19\n      }\n    }, \"Registro de Mensajes\")), /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      className: \"form-horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 23\n      }\n    }, \"Grado o a\\xF1o\"), /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      className: \"react-select primary\",\n      classNamePrefix: \"react-select\",\n      name: \"singleSelect\",\n      value: this.state.singleSelect,\n      onChange: value => this.setGrado(value),\n      options: this.props.Grado,\n      placeholder: \"Seleccion el Grado o a\\xF1o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      className: \"react-select primary\",\n      classNamePrefix: \"react-select\",\n      name: \"seccion\",\n      value: this.state.seccion,\n      onChange: value => this.setSeccion(value),\n      options: this.props.Seccion,\n      placeholder: \"Seccion\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 23\n      }\n    }, \"Contenido del Mensaje\"), /*#__PURE__*/React.createElement(Col, {\n      md: \"9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: \"Asunto del mensaje\",\n      type: \"text\",\n      value: this.state.mensaje,\n      onChange: texto => this.setState({\n        mensaje: texto.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 27\n      }\n    }), this.state.subiendo)), this.state.mensaje ? /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      md: \"9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"btn-round\",\n      color: \"info\",\n      type: \"submit\",\n      onClick: () => this.RegistrarMensaje(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 29\n      }\n    }, \"Registrar mensaje\"))) : null))))), /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      lg: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardText, {\n      tag: \"div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CardTitle, {\n      tag: \"h4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 21\n      }\n    }, \"Mensajes Enviados\"))), /*#__PURE__*/React.createElement(CardBody, {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      className: \"table-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"text-warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 25\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 25\n      }\n    }, \"Grado\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 25\n      }\n    }, \"Asunto\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 25\n      }\n    }, \"Mensaje\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 21\n      }\n    })))))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"text-center\",\n      lg: \"6\",\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"text-center\",\n      lg: \"12\",\n      md: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"card-tasks\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CardTitle, {\n      tag: \"h4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 21\n      }\n    }, \"Mensajes Enviados\")))), /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-full-width table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 23\n      }\n    }, this.state.enviados.map(mensaje => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"timeline-badge danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"nc-icon nc-single-copy-04\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 29\n      }\n    }, mensaje.grado, \" \", mensaje.seccion), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 29\n      }\n    }, mensaje.fecha, \" (\", mensaje.hora, \")\"))))))), /*#__PURE__*/React.createElement(CardFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"stats\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-refresh spin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 21\n      }\n    }), \"Updated 3 minutes ago\"))))))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = reducers => {\n  return reducers.mainReducer;\n};\n\nexport default connect(mapStateToProps, mainActions)(Mensajes);","map":{"version":3,"sources":["/Users/macbook/Desktop/a.micole/src/views/Mensajes.js"],"names":["React","Badge","Button","Card","CardHeader","CardBody","CardFooter","CardTitle","CardText","Label","FormGroup","Input","Alert","Table","Row","Col","UncontrolledTooltip","Form","ReactBSAlert","ReactDatetime","defaultImage","defaultAvatar","Select","mainActions","connect","uploadFile","Mensajes","Component","constructor","setGrado","value","setState","singleSelect","materias","props","Secundaria","Primaria","setSeccion","seccion","componentDidMount","verCredenciales","colegio","id","history","push","RegistrarMensaje","data","grado","state","fecha","mensaje","url","fetch","method","body","JSON","stringify","headers","Accept","then","resp","nube","guardado","asignatura","subirRecurso","setData","catch","error","console","log","tareas","subiendo","file","imagePreviewUrl","titulo","Grado","Seccion","modulos","itemscurriculo","curriculo","acepta","parabuscar","enviados","handleSubmit","bind","handleClick","handleRemove","e","preventDefault","avatar","refs","fileInput","materia","nummateria","label","bucketName","dirName","region","accessKeyId","as3","secretAccessKey","ss3","datadir","direccion","location","codigoweb","alumno","apellidos","nombres","idtarea","tarea","tipodoc","size","tipo","type","verTareas","msjerror","err","render","texto","target","map","hora","mapStateToProps","reducers","mainReducer"],"mappings":"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","sourcesContent":["\nimport React from \"react\";\n\n// reactstrap components\nimport {\n  Badge,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  CardTitle,\n  CardText,\n  Label,\n  FormGroup,\n  Input,\n  Alert,\n  Table,\n  Row,\n  Col,\n  UncontrolledTooltip,\n  Form,\n} from \"reactstrap\";\nimport ReactBSAlert from \"react-bootstrap-sweetalert\";\nimport ReactDatetime from \"react-datetime\";\nimport defaultImage from \"assets/img/image_placeholder.jpg\";\nimport defaultAvatar from \"assets/img/placeholder.jpg\";\nimport Select from \"react-select\";\nimport * as mainActions from \"../actions/mainActions\";\nimport { connect } from 'react-redux';\nimport { uploadFile } from 'react-s3';\n\nclass Mensajes extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      singleSelect: null,\n      tareas: [],\n      subiendo: null,\n      materias:null,\n      seccion:null,\n      asignatura:null,\n      file: null,\n      imagePreviewUrl: defaultImage,\n      titulo:null,\n      fecha:null,\n      Grado:[],\n      Seccion:[],\n      Primaria:[],\n      Secundaria:[],\n      modulos:[],\n      itemscurriculo:[],\n      curriculo:null,\n      acepta:\"*\",\n      parabuscar:null,\n      subirRecurso:null,\n      mensaje:null,\n      enviados:[],\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleRemove = this.handleRemove.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n  }\n  handleClick(e) {\n  }\n  handleRemove() {\n    this.setState({\n      file: null,\n      imagePreviewUrl: this.props.avatar ? defaultAvatar : defaultImage,\n    });\n    this.refs.fileInput.value = null;\n  }\n  setGrado = (value) => {\n    this.setState({ singleSelect: value })\n    if(value.value>6){\n      this.setState({materias:this.props.Secundaria})\n    }else{\n      this.setState({materias:this.props.Primaria})\n    }\n  }\n  setSeccion = (value) => {\n    this.setState({ seccion: value })\n  }\n\n  componentDidMount = async () => {\n    this.props.verCredenciales();\n    if(!this.props.colegio.id){\n      this.props.history.push(\"/auth/login\");\n    }\n    await this.RegistrarMensaje(this.props.colegio.id,\"*\");\n  }\n\n  RegistrarMensaje = async () => {\n    const data = {\n      grado: this.state.singleSelect,\n      seccion:this.state.seccion,\n      fecha:this.state.fecha,\n      mensaje:this.state.mensaje,\n    };\n    let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/registrarMensaje';\n    fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(data),\n        headers:{\n            'Content-Type': 'application/json'\n        },\n        Accept: 'application/json',\n    })\n    .then(async resp  => {\n        let nube = (\n          <Alert color=\"success\">\n            <span>Mensaje registrado</span>\n          </Alert>\n        )\n        this.setState({guardado:nube,\n        asignatura:null, singleSelect:null,\n        subirRecurso:false, mensaje:null});\n        this.props.setData({\n          grado:this.state.grado,\n          seccion:this.state.seccion,\n          fecha:this.state.fecha,\n          mensaje:this.state.mensaje});\n    })\n    .catch(error => {\n        console.log(error);\n    });\n}\n\nasync uploadFile() {\n  let file = this.state.file;\n  let materia = \"*\";\n  let nummateria = \"0\";\n  if(this.state.asignatura!==null){\n    materia=this.state.asignatura.label;\n    nummateria=this.state.asignatura.value;\n  }\n  if (file) {\n      let subiendo = (\n        <Alert color=\"info\">\n          <span>Subiendo Recurso</span>\n        </Alert>\n      );\n      this.setState({subiendo:subiendo});\n      await  uploadFile(file, {\n          bucketName: 'pruebareact',\n          dirName: 'aprende',\n          region: 'us-east-1',\n          accessKeyId: this.props.as3,\n          secretAccessKey: this.props.ss3,\n      })\n      .then(data => {\n          const datadir = {\n              direccion:data.location,\n              codigoweb:this.props.alumno.codigoweb,\n              alumno:this.props.alumno.apellidos+\", \"+this.props.alumno.nombres,\n              grado: this.props.alumno.grado,\n              materia: materia,\n              nummateria: nummateria,\n              idtarea:this.state.tarea.id,\n              titulo:this.state.tarea.titulo,\n              mensaje:this.state.mensaje,\n              tipodoc:this.state.tipodoc,\n              size:this.state.file.size,\n              tipo:this.state.file.type,\n          };\n          let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/registrarMensaje';\n          fetch(url, {\n              method: 'POST', \n              body: JSON.stringify(datadir),\n              headers:{\n                  'Content-Type': 'application/json'\n              },\n              Accept: 'application/json',\n          })\n          .then(async resp  => {\n              let nube = (\n                <Alert color=\"success\">\n                  <span>Recurso en la nube</span>\n                </Alert>\n              )\n              this.setState({subiendo:nube,\n              asignatura:null, singleSelect:null});\n              await this.props.verTareas(this.props.alumno);\n              this.setState({subirRecurso:false, mensaje:null,\n                file:null, imagePreviewUrl:null,\n              });\n          })\n          .catch(error => {\n            let msjerror = (\n              <Alert color=\"danger\">\n                <span>Faltan Datos</span>\n              </Alert>\n            )\n            this.setState({subiendo:msjerror});\n          });\n      })\n      .catch(err =>\n        {\n          let msjerror = (\n            <Alert color=\"danger\">\n              <span>Faltan Datos</span>\n            </Alert>\n          )\n          this.setState({subiendo:msjerror});\n        });\n  }\n}\n\n  render() {\n    return (\n      <>\n        <div className=\"content\">\n          <Row>\n            <Col md=\"6\" lg=\"6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle tag=\"h4\">Registro de Mensajes</CardTitle>\n                </CardHeader>\n                <CardBody>\n                  <Form className=\"form-horizontal\">\n                    <Row>\n                      <Label md=\"3\">Grado o año</Label>\n                      <Col md=\"6\">\n                        <Select\n                          className=\"react-select primary\"\n                          classNamePrefix=\"react-select\"\n                          name=\"singleSelect\"\n                          value={this.state.singleSelect}\n                          onChange={(value) =>\n                            this.setGrado(value )\n                          }\n                          options={this.props.Grado}\n                          placeholder=\"Seleccion el Grado o año\"\n                        />\n                      </Col>\n                      <Col md=\"3\">\n                        <Select\n                          className=\"react-select primary\"\n                          classNamePrefix=\"react-select\"\n                          name=\"seccion\"\n                          value={this.state.seccion}\n                          onChange={(value) =>\n                            this.setSeccion(value )\n                          }\n                          options={this.props.Seccion}\n                          placeholder=\"Seccion\"\n                        />\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Label md=\"3\">Contenido del Mensaje</Label>\n                      <Col md=\"9\">\n                        <FormGroup>\n                          <Input placeholder=\"Asunto del mensaje\"\n                            type=\"text\"\n                            value={this.state.mensaje}\n                            onChange={(texto) =>\n                              this.setState({ mensaje:texto.target.value })\n                            }\n                          />\n                          {this.state.subiendo}\n                          {/* {this.state.mensaje!=null ? (\n                            <div>\n                              <span>\n                                <Button className=\"btn-round\" onClick={() => this.handleClick()}>\n                                  Modificar\n                                </Button>\n                                <Button\n                                  color=\"danger\"\n                                  className=\"btn-round\"\n                                  onClick={() => this.handleRemove()}\n                                >\n                                  <i className=\"fa fa-times\" />\n                                  Quitar\n                                </Button>\n                              </span>\n                            </div>\n                          ) : (null)} */}\n                        </FormGroup>\n                      </Col>\n                      {this.state.mensaje ? (\n                        <Row>\n                          <Col md=\"3\" />\n                          <Col md=\"9\">\n                            {/* <Button className=\"btn-round\"\n                              color=\"warning\"\n                              onClick={()=>this.setState({subirRecurso:true,\n                                mensaje:mensaje, file:null, subiendo:null,\n                                imagePreviewUrl:defaultImage,\n                                tipodoc:null,\n                              })}\n                            >\n                              <i className=\"fa fa-upload\" />\n                            </Button> */}\n                            <Button className=\"btn-round\"\n                            color=\"info\" type=\"submit\"\n                            onClick={()=>this.RegistrarMensaje()}\n                          >\n                              Registrar mensaje\n                            </Button>\n                          </Col>\n                        </Row>\n                      ):(null)}\n                    </Row>\n                  </Form>\n                </CardBody>\n              </Card>\n            </Col>\n            <Col md=\"6\" lg=\"6\">\n              <Card>\n                <CardHeader>\n                  <CardText tag=\"div\">\n                    <CardTitle tag=\"h4\">Mensajes Enviados</CardTitle>\n                  </CardText>\n                </CardHeader>\n                <CardBody className=\"table-responsive\">\n                  <Table className=\"table-hover\">\n                    <thead className=\"text-warning\">\n                      <tr>\n                        <th>#</th>\n                        <th>Grado</th>\n                        <th>Asunto</th>\n                        <th>Mensaje</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                    </tbody>\n                  </Table>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n          <Row>\n            <Col className=\"text-center\" lg=\"6\" md=\"6\">\n              <Row>\n              <Col className=\"text-center\" lg=\"12\" md=\"12\">\n              <Card className=\"card-tasks\">\n                <CardHeader>\n                  <Row>\n                  <Col md=\"6\">\n                    <CardTitle tag=\"h4\">\n                      Mensajes Enviados\n                    </CardTitle>\n                  </Col>\n                  {/* <Col md=\"6\">\n                    <Select\n                      className=\"react-select primary\"\n                      classNamePrefix=\"react-select\"\n                      name=\"singleSelect\"\n                      value={this.state.parabuscar}\n                      onChange={(value) =>\n                        this.RegistrarMensaje(this.props.colegio.id,value.key)\n                      }\n                      options={this.props.Grado}\n                      placeholder=\"Seleccion el Grado o año\"\n                    />\n                  </Col> */}\n                  </Row>\n                </CardHeader>\n                <CardBody>\n                  <div className=\"table-full-width table-responsive\">\n                    <Table>\n                      <tbody>\n                        {this.state.enviados.map(mensaje=>(\n                          <tr>\n                            <td >\n                              <div className=\"timeline-badge danger\">\n                                <i className=\"nc-icon nc-single-copy-04\" />\n                              </div>\n                            </td>\n                            <td className=\"text-left\">\n                              {mensaje.grado} {mensaje.seccion}\n                            </td>\n                            <td className=\"text-left\">\n                              {mensaje.fecha} ({mensaje.hora})\n                            </td>\n                            {/* <td className=\"td-actions text-right\">\n                              <Button\n                                className=\"btn-round btn-icon btn-icon-mini btn-neutral\"\n                                color=\"info\"\n                                title=\"\"\n                                type=\"button\"\n                                onClick={()=>this.ponerModal(mensaje._id)}\n                              >\n                                <i className=\"nc-icon nc-ruler-pencil\" />\n                              </Button>\n                              <Button\n                                className=\"btn-round btn-icon btn-icon-mini btn-neutral\"\n                                color=\"danger\"\n                                title=\"\"\n                                type=\"button\"\n                                onClick={()=>this.quitarMensaje(mensaje._id)}\n                              >\n                                <i className=\"nc-icon nc-simple-remove\" />\n                              </Button>\n                            </td> */}\n                          </tr>\n                        ))}\n                      </tbody>\n                    </Table>\n                  </div>\n                </CardBody>\n                <CardFooter>\n                  <hr />\n                  <div className=\"stats\">\n                    <i className=\"fa fa-refresh spin\" />\n                    Updated 3 minutes ago\n                  </div>\n                </CardFooter>\n              </Card>\n            </Col>\n            </Row>\n            </Col>\n          </Row>\n          <Row>\n          </Row>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (reducers) => {\n  return reducers.mainReducer;\n}\n\nexport default connect(mapStateToProps, mainActions )(Mensajes);\n"]},"metadata":{},"sourceType":"module"}