{"ast":null,"code":"import _regeneratorRuntime from \"/Users/macbook/Desktop/a.micole_rebe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/macbook/Desktop/a.micole_rebe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/macbook/Desktop/a.micole_rebe/src/views/pages/Login.js\";\nimport React from \"react\"; // reactstrap components\n\nimport { Button, Card, CardHeader, CardBody, CardFooter, Form, Input, InputGroupAddon, InputGroupText, InputGroup, Container, Col, Row } from \"reactstrap\";\nimport * as mainActions from \"../../actions/mainActions\";\nimport { connect } from 'react-redux';\n\nclass Login extends React.Component {\n  constructor(props) {\n    var _this;\n\n    super(props);\n    _this = this;\n    this.autenticar = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var data, url, respuesta, result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            data = {\n              codigo: _this.state.codigo,\n              clave: _this.state.clave\n            };\n            url = 'https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/accesoColegio';\n            _context.next = 4;\n            return fetch(url, {\n              method: 'POST',\n              body: JSON.stringify(data),\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              Accept: 'application/json'\n            }).catch(error => {\n              console.log(error);\n            });\n\n          case 4:\n            respuesta = _context.sent;\n            _context.next = 7;\n            return respuesta.json();\n\n          case 7:\n            result = _context.sent;\n\n            if (result.respuesta == \"200\") {\n              _this.props.setColegio(result.datos[0], _this.state.codigo);\n\n              _this.props.history.push(\"/admin/dashboard\");\n            }\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    this.state = {\n      codigo: \"\",\n      clave: \"\"\n    };\n  }\n\n  componentDidMount() {\n    document.body.classList.toggle(\"login-page\");\n  }\n\n  componentWillUnmount() {\n    document.body.classList.toggle(\"login-page\");\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"ml-auto mr-auto\",\n      lg: \"4\",\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      action: \"\",\n      className: \"form\",\n      method: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"card-login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"header text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 23\n      }\n    }, \"Micolegio Aprende\"), /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"header text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 23\n      }\n    }, \"Registrate\"))), /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputGroupAddon, {\n      addonType: \"prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(InputGroupText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"nc-icon nc-single-02\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(Input, {\n      placeholder: \"Usuario\",\n      type: \"text\",\n      value: this.state.codigo,\n      onChange: e => this.setState({\n        codigo: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(InputGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputGroupAddon, {\n      addonType: \"prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(InputGroupText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"nc-icon nc-key-25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(Input, {\n      placeholder: \"Clave\",\n      type: \"password\",\n      autoComplete: \"on\",\n      value: this.state.clave,\n      onChange: e => this.setState({\n        clave: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(CardFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      block: true,\n      className: \"btn-round mb-3\",\n      color: \"warning\",\n      href: \"#pablo\",\n      onClick: () => this.autenticar(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }, \"Ingresa\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"full-page-background\",\n      style: {\n        backgroundImage: \"url(\".concat(require(\"assets/img/loginmicol.png\"), \")\")\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = reducers => {\n  return reducers.mainReducer;\n};\n\nexport default connect(mapStateToProps, mainActions)(Login);","map":{"version":3,"sources":["/Users/macbook/Desktop/a.micole_rebe/src/views/pages/Login.js"],"names":["React","Button","Card","CardHeader","CardBody","CardFooter","Form","Input","InputGroupAddon","InputGroupText","InputGroup","Container","Col","Row","mainActions","connect","Login","Component","constructor","props","autenticar","data","codigo","state","clave","url","fetch","method","body","JSON","stringify","headers","Accept","catch","error","console","log","respuesta","json","result","setColegio","datos","history","push","componentDidMount","document","classList","toggle","componentWillUnmount","render","e","setState","target","value","backgroundImage","require","mapStateToProps","reducers","mainReducer"],"mappings":"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","sourcesContent":["\nimport React from \"react\";\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Form,\n  Input,\n  InputGroupAddon,\n  InputGroupText,\n  InputGroup,\n  Container,\n  Col,\n  Row,\n} from \"reactstrap\";\nimport * as mainActions from \"../../actions/mainActions\";\nimport { connect } from 'react-redux';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      codigo:\"\",\n      clave:\"\"\n    };\n  }\n  componentDidMount() {\n    document.body.classList.toggle(\"login-page\");\n  }\n  componentWillUnmount() {\n    document.body.classList.toggle(\"login-page\");\n  }\n\n  autenticar = async () => {\n    const data = {\n      codigo:this.state.codigo,\n      clave:this.state.clave,\n    };\n    let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/accesoColegio';\n    let respuesta = await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(data),\n        headers:{\n            'Content-Type': 'application/json'\n        },\n        Accept: 'application/json',\n    })\n    .catch(error => {\n        console.log(error);\n    });\n    let result = await respuesta.json();\n    if(result.respuesta==\"200\"){\n      this.props.setColegio(result.datos[0],this.state.codigo);\n      this.props.history.push(\"/admin/dashboard\");\n    }\n  } \n\n  render() {\n    return (\n      <div className=\"login-page\">\n        <Container>\n          <Row>\n            <Col className=\"ml-auto mr-auto\" lg=\"4\" md=\"6\">\n              <Form action=\"\" className=\"form\" method=\"\">\n                <Card className=\"card-login\">\n                  <CardHeader>\n                    <CardHeader>\n                      <h5 className=\"header text-center\">Micolegio Aprende</h5>\n                      <h3 className=\"header text-center\">Registrate</h3>\n                    </CardHeader>\n                  </CardHeader>\n                  <CardBody>\n                    <InputGroup>\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"nc-icon nc-single-02\" />\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input placeholder=\"Usuario\"\n                        type=\"text\"\n                        value={this.state.codigo}\n                        onChange={(e)=>\n                          this.setState({codigo:e.target.value})}\n                      />\n                    </InputGroup>\n                    <InputGroup>\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"nc-icon nc-key-25\" />\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input\n                        placeholder=\"Clave\"\n                        type=\"password\"\n                        autoComplete=\"on\"\n                        value={this.state.clave}\n                        onChange={(e)=>\n                          this.setState({clave:e.target.value})}\n                      />\n                    </InputGroup>\n                    <br />\n                    \n                  </CardBody>\n                  <CardFooter>\n                    <Button\n                      block\n                      className=\"btn-round mb-3\"\n                      color=\"warning\"\n                      href=\"#pablo\"\n                      onClick={() => this.autenticar()}\n                    >\n                      Ingresa\n                    </Button>\n                  </CardFooter>\n                </Card>\n              </Form>\n            </Col>\n          </Row>\n        </Container>\n        <div\n          className=\"full-page-background\"\n          style={{\n            backgroundImage: `url(${require(\"assets/img/loginmicol.png\")})`,\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (reducers) => {\n  return reducers.mainReducer;\n}\n\nexport default connect(mapStateToProps, mainActions )(Login);\n"]},"metadata":{},"sourceType":"module"}