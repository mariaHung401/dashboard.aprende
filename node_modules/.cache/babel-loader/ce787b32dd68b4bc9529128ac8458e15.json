{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macbook/Desktop/a.micole_rebe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/macbook/Desktop/a.micole_rebe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";// reactstrap components\nimport{Badge,Button,Card,CardHeader,CardBody,CardFooter,CardTitle,CardText,Label,FormGroup,Input,Alert,Table,Row,Col,UncontrolledTooltip,Form}from\"reactstrap\";import ReactBSAlert from\"react-bootstrap-sweetalert\";import ReactDatetime from\"react-datetime\";import defaultImage from\"assets/img/image_placeholder.jpg\";import defaultAvatar from\"assets/img/placeholder.jpg\";import Select from\"react-select\";import*as mainActions from\"../actions/mainActions\";import{connect}from'react-redux';import{uploadFile}from'react-s3';class Widgets extends React.Component{constructor(){var _this;super();_this=this;this.setGrado=value=>{this.setState({singleSelect:value});if(value.value>6){this.setState({materias:this.props.Secundaria});}else{this.setState({materias:this.props.Primaria});}};this.setGrado_tareas_activas=value=>{if(value!=undefined){this.setState({asignatura_tareas_activas:value});if(value.value>6){this.setState({materias_tareas_activas:this.props.Secundaria});}else{this.setState({materias_tareas_activas:this.props.Primaria});}}};this.setSeccion=value=>{this.setState({seccion:value});};this.setModulos=value=>{this.setState({modulo:value});};this.verTareas=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id,grado,materia){var url,respuesta,tareas;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(grado!==\"*\"){_this.setGrado_tareas_activas(grado);grado=grado;}url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/verRecursos?id='+id+\"&grado=\"+grado+\"&materia=\"+materia;_context.next=4;return fetch(url,{method:'GET',mode:'cors',cache:'default',headers:{'Content-Type':'application/json'},Accept:'application/json'}).catch(error=>{console.log(error);});case 4:respuesta=_context.sent;_context.next=7;return respuesta.json();case 7:tareas=_context.sent;_this.setState({tareas:tareas});console.log(tareas);case 10:case\"end\":return _context.stop();}},_callee);}));return function(_x,_x2,_x3){return _ref.apply(this,arguments);};}();this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_this.props.verCredenciales();if(!_this.props.colegio.id){_this.props.history.push(\"/auth/login\");}_context2.next=4;return _this.verTareas(_this.props.colegio.id,\"*\",null);case 4:case\"end\":return _context2.stop();}},_callee2);}));this.quitarTarea=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){var datadir,url;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:datadir={codigo:id};url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/quitarRecurso';fetch(url,{method:'POST',body:JSON.stringify(datadir),headers:{'Content-Type':'application/json'},Accept:'application/json'}).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(resp){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.verTareas(_this.props.colegio.id);case 2:case\"end\":return _context3.stop();}},_callee3);}));return function(_x5){return _ref4.apply(this,arguments);};}()).catch(error=>{console.log(error);});case 3:case\"end\":return _context4.stop();}},_callee4);}));return function(_x4){return _ref3.apply(this,arguments);};}();this.filtrar=grado=>{alert(grado);};this.state={singleSelect:null,tareas:[],subiendo:null,materias:null,seccion:null,asignatura:null,file:null,imagePreviewUrl:defaultImage,titulo:null,fecha:null,Grado:[],Seccion:[],Primaria:[],Secundaria:[],modulos:[],itemscurriculo:[],curriculo:null,acepta:\"*\",parabuscar:null,asignatura_tareas_activas:{value:null,label:null},materias_tareas_activas:null};this.handleImageChange=this.handleImageChange.bind(this);this.handleSubmit=this.handleSubmit.bind(this);this.handleClick=this.handleClick.bind(this);this.handleRemove=this.handleRemove.bind(this);}handleImageChange(e){const min=1;const max=100;const rand=min+Math.random()*(max-min);e.preventDefault();const fileUnchange=e.target.files[0];const file=new File([fileUnchange],String(rand)+fileUnchange.name,{type:fileUnchange.type,lastModified:Date.now()});if(file.size<4000000){let doc=new FileReader();doc.onloadend=()=>{this.setState({file:file,imagePreviewUrl:doc.result});};doc.readAsDataURL(file);}else{let subiendo=/*#__PURE__*/React.createElement(Alert,{color:\"info\"},/*#__PURE__*/React.createElement(\"span\",null,\"Recurso invalido\"));this.setState({subirRecurso:false,mensaje:null,file:null,imagePreviewUrl:null,subiendo:subiendo});alert(\"Solo se aceptan documentos menores a 4mb \");}}handleSubmit(e){e.preventDefault();}handleClick(){this.refs.fileInput.click();}handleRemove(){this.setState({file:null,imagePreviewUrl:this.props.avatar?defaultAvatar:defaultImage});this.refs.fileInput.value=null;}verModulos(){var _this2=this;return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var url,respuesta,modulos;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/vermodulos';_context5.next=3;return fetch(url,{method:'GET',mode:'cors',cache:'default',headers:{'Content-Type':'application/json'},Accept:'application/json'}).catch(error=>{console.log(error);});case 3:respuesta=_context5.sent;_context5.next=6;return respuesta.json();case 6:modulos=_context5.sent;_this2.setState({modulos:modulos});case 8:case\"end\":return _context5.stop();}},_callee5);}))();}uploadFile(){var _this3=this;return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var file,codColegio,subiendo;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:file=_this3.state.file;codColegio=_this3.props.colegio.codigo;if(!file){_context7.next=7;break;}subiendo=/*#__PURE__*/React.createElement(Alert,{color:\"info\"},/*#__PURE__*/React.createElement(\"span\",null,\"Subiendo Recurso\"));_this3.setState({subiendo:subiendo});_context7.next=7;return uploadFile(file,{bucketName:'pruebareact',dirName:'aprende/'+codColegio,region:'us-east-1',accessKeyId:_this3.props.as3,secretAccessKey:_this3.props.ss3}).then(data=>{const datadir={direccion:data.location,plantel:_this3.props.colegio.codigo,materia:_this3.state.asignatura,grado:_this3.state.singleSelect,seccion:_this3.state.seccion.value,titulo:_this3.state.titulo,fecha:_this3.state.fecha,size:_this3.state.file.size,tipo:_this3.state.file.type};let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/guardarRecurso';fetch(url,{method:'POST',body:JSON.stringify(datadir),headers:{'Content-Type':'application/json'},Accept:'application/json'}).then(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(resp){var nube;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:nube=/*#__PURE__*/React.createElement(Alert,{color:\"success\"},/*#__PURE__*/React.createElement(\"span\",null,\"Recurso en la nube\"));_this3.setState({subiendo:nube,asignatura:null,singleSelect:null});_context6.next=4;return _this3.verTareas(_this3.props.colegio.id);case 4:case\"end\":return _context6.stop();}},_callee6);}));return function(_x6){return _ref5.apply(this,arguments);};}()).catch(error=>{console.log(error);});}).catch(err=>console.error(err));case 7:case\"end\":return _context7.stop();}},_callee7);}))();}render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(Row,null,this.state.modal,/*#__PURE__*/React.createElement(Col,{md:\"6\",lg:\"6\",justify:\"center\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardTitle,{tag:\"h4\"},\"Registro de Tareas\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Form,{className:\"form-horizontal\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Grado o a\\xF1o\"),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(Select,{className:\"react-select primary\",classNamePrefix:\"react-select\",name:\"singleSelect\",value:this.state.singleSelect,onChange:value=>this.setGrado(value),options:this.props.Grado,placeholder:\"Seleccion el Grado o a\\xF1o\"})),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Select,{className:\"react-select primary\",classNamePrefix:\"react-select\",name:\"seccion\",value:this.state.seccion,onChange:value=>this.setSeccion(value),options:this.props.Seccion,placeholder:\"Seccion\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Titulo tarea\"),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Input,{placeholder:\"Nombre descriptivo de la tarea\",type:\"text\",value:this.state.titulo,onChange:texto=>this.setState({titulo:texto.target.value})})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Asignatura\"),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(Select,{className:\"react-select primary\",classNamePrefix:\"react-select\",name:\"singleSelect\",value:this.state.asignatura,onChange:value=>this.setState({asignatura:value}),options:this.state.materias,placeholder:\"Selecciona el Area o Asignatura\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Vencimiento\"),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(ReactDatetime,{inputProps:{className:\"form-control\",placeholder:\"Date Picker Here\"},timeFormat:false,value:this.state.fecha,onChange:value=>this.setState({fecha:value})}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Recurso\"),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"div\",{className:\"fileinput text-center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\"*\",onChange:this.handleImageChange,ref:\"fileInput\"}),/*#__PURE__*/React.createElement(\"div\",null,this.state.file===null?/*#__PURE__*/React.createElement(Button,{className:\"btn-round\",onClick:()=>this.handleClick()},this.props.avatar?\"Add Photo\":\"Selecciona el archivo\"):/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(Button,{className:\"btn-round\",onClick:()=>this.handleClick()},\"Modificar\"),this.props.avatar?/*#__PURE__*/React.createElement(\"br\",null):null,/*#__PURE__*/React.createElement(Button,{color:\"danger\",className:\"btn-round\",onClick:()=>this.handleRemove()},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-times\"}),\"Quitar\")),this.state.subiendo))))))),/*#__PURE__*/React.createElement(CardFooter,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"}),this.state.file!==null?/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(Button,{className:\"btn-round\",color:\"info\",type:\"submit\",onClick:()=>this.uploadFile()},\"Subir y registrar tarea\")):null))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"text-center\",lg:\"12\",md:\"12\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"text-center\",lg:\"12\",md:\"12\"},/*#__PURE__*/React.createElement(Card,{className:\"card-tasks\"},/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(CardTitle,{tag:\"h4\"},\"Tareas Activas\")))),/*#__PURE__*/React.createElement(CardBody,{className:\"table-full-width table-hover\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(Table,{responsive:true},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null),/*#__PURE__*/React.createElement(\"th\",null,\"Grado\"),/*#__PURE__*/React.createElement(\"th\",null,\"Seccion\"),/*#__PURE__*/React.createElement(\"th\",null,\"Area\"),/*#__PURE__*/React.createElement(\"th\",null,\"Titulo\"),/*#__PURE__*/React.createElement(\"th\",null,\"Fecha\"),/*#__PURE__*/React.createElement(\"th\",null,\"Accion\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.tareas.map(tarea=>/*#__PURE__*/React.createElement(\"tr\",{className:\"table-warning\"},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"timeline-badge danger\"},/*#__PURE__*/React.createElement(\"i\",{className:\"nc-icon nc-single-copy-04\"}))),/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},tarea.grado),/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},tarea.seccion),/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},tarea.materia),/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},tarea.titulo),/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},tarea.fecha,\" (\",tarea.hora,\")\"),/*#__PURE__*/React.createElement(\"td\",{className:\"td-actions text-right\"},/*#__PURE__*/React.createElement(Button,{className:\"btn-round btn-icon btn-icon-mini btn-neutral\",color:\"danger\",title:\"\",type:\"button\",onClick:()=>this.quitarTarea(tarea._id)},/*#__PURE__*/React.createElement(\"i\",{className:\"nc-icon nc-simple-remove\"})))))))))),/*#__PURE__*/React.createElement(CardFooter,null,/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"stats\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-refresh spin\"}))))))))));}}const mapStateToProps=reducers=>{return reducers.mainReducer;};export default connect(mapStateToProps,mainActions)(Widgets);","map":{"version":3,"sources":["/Users/macbook/Desktop/a.micole_rebe/client/src/views/Widgets.js"],"names":["React","Badge","Button","Card","CardHeader","CardBody","CardFooter","CardTitle","CardText","Label","FormGroup","Input","Alert","Table","Row","Col","UncontrolledTooltip","Form","ReactBSAlert","ReactDatetime","defaultImage","defaultAvatar","Select","mainActions","connect","uploadFile","Widgets","Component","constructor","setGrado","value","setState","singleSelect","materias","props","Secundaria","Primaria","setGrado_tareas_activas","undefined","asignatura_tareas_activas","materias_tareas_activas","setSeccion","seccion","setModulos","modulo","verTareas","id","grado","materia","url","fetch","method","mode","cache","headers","Accept","catch","error","console","log","respuesta","json","tareas","componentDidMount","verCredenciales","colegio","history","push","quitarTarea","datadir","codigo","body","JSON","stringify","then","resp","filtrar","alert","state","subiendo","asignatura","file","imagePreviewUrl","titulo","fecha","Grado","Seccion","modulos","itemscurriculo","curriculo","acepta","parabuscar","label","handleImageChange","bind","handleSubmit","handleClick","handleRemove","e","min","max","rand","Math","random","preventDefault","fileUnchange","target","files","File","String","name","type","lastModified","Date","now","size","doc","FileReader","onloadend","result","readAsDataURL","subirRecurso","mensaje","refs","fileInput","click","avatar","verModulos","codColegio","bucketName","dirName","region","accessKeyId","as3","secretAccessKey","ss3","data","direccion","location","plantel","tipo","nube","err","render","modal","texto","className","placeholder","map","tarea","hora","_id","mapStateToProps","reducers","mainReducer"],"mappings":"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","sourcesContent":["import React from \"react\";\n\n// reactstrap components\nimport {\n  Badge,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  CardTitle,\n  CardText,\n  Label,\n  FormGroup,\n  Input,\n  Alert,\n  Table,\n  Row,\n  Col,\n  UncontrolledTooltip,\n  Form,\n} from \"reactstrap\";\nimport ReactBSAlert from \"react-bootstrap-sweetalert\";\nimport ReactDatetime from \"react-datetime\";\nimport defaultImage from \"assets/img/image_placeholder.jpg\";\nimport defaultAvatar from \"assets/img/placeholder.jpg\";\nimport Select from \"react-select\";\nimport * as mainActions from \"../actions/mainActions\";\nimport { connect } from 'react-redux';\nimport { uploadFile } from 'react-s3';\n\nclass Widgets extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      singleSelect: null,\n      tareas: [],\n      subiendo: null,\n      materias:null,\n      seccion:null,\n      asignatura:null,\n      file: null,\n      imagePreviewUrl: defaultImage,\n      titulo:null,\n      fecha:null,\n      Grado:[],\n      Seccion:[],\n      Primaria:[],\n      Secundaria:[],\n      modulos:[],\n      itemscurriculo:[],\n      curriculo:null,\n      acepta:\"*\",\n      parabuscar:null,\n      asignatura_tareas_activas:{\n        value:null,\n        label:null\n      },\n      materias_tareas_activas:null\n    };\n    this.handleImageChange = this.handleImageChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleRemove = this.handleRemove.bind(this);\n  }\n  handleImageChange(e) {\n    const min = 1;\n    const max = 100;\n    const rand = min + Math.random() * (max - min);\n    e.preventDefault();\n    const fileUnchange = e.target.files[0];\n    const file = new File([fileUnchange],\n      String(rand)+fileUnchange.name, { type: fileUnchange.type, lastModified: Date.now()});\n    if(file.size<4000000){\n      let doc = new FileReader();\n      doc.onloadend = () => {\n        this.setState({\n          file: file,\n          imagePreviewUrl: doc.result,\n        });\n      };\n      doc.readAsDataURL(file);\n    }else{\n      let subiendo = (\n        <Alert color=\"info\">\n          <span>Recurso invalido</span>\n        </Alert>\n      );\n      this.setState({subirRecurso:false, mensaje:null,\n        file:null, imagePreviewUrl:null, subiendo:subiendo,\n      });\n      alert(\"Solo se aceptan documentos menores a 4mb \");\n    }\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n  }\n  handleClick() {\n    this.refs.fileInput.click();\n  }\n  handleRemove() {\n    this.setState({\n      file: null,\n      imagePreviewUrl: this.props.avatar ? defaultAvatar : defaultImage,\n    });\n    this.refs.fileInput.value = null;\n  }\n  setGrado = (value) => {\n    this.setState({ singleSelect: value })\n    if(value.value>6){\n      this.setState({materias:this.props.Secundaria})\n    }else{\n      this.setState({materias:this.props.Primaria})\n    }\n  }\n\n  setGrado_tareas_activas = (value) => {\n    if(value!=undefined){\n      this.setState({ asignatura_tareas_activas: value })\n      if(value.value>6){\n        this.setState({materias_tareas_activas:this.props.Secundaria})\n      }else{\n        this.setState({materias_tareas_activas:this.props.Primaria})\n      }\n    }\n  }\n\n  setSeccion = (value) => {\n    this.setState({ seccion: value })\n  }\n\n  setModulos = (value)  => {\n    this.setState({ modulo: value })\n  }\n\n  verTareas = async (id,grado,materia) => {\n    if(grado!==\"*\"){\n      this.setGrado_tareas_activas(grado);\n      grado=grado;\n    }\n    let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/verRecursos?id='\n      +id+\"&grado=\"+grado+\"&materia=\"+materia;\n    let respuesta = await fetch(url, {\n        method: 'GET',\n        mode: 'cors',\n        cache: 'default',\n        headers:{\n            'Content-Type': 'application/json'\n        },\n        Accept: 'application/json',\n    }).catch(error => {\n        console.log(error);\n    });\n    let tareas = await respuesta.json();\n    this.setState({ tareas:tareas});\n    console.log(tareas);\n  }\n\n  async verModulos(){\n    let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/vermodulos';\n    let respuesta = await fetch(url, {\n      method: 'GET',\n      mode: 'cors',\n      cache: 'default',\n      headers:{\n          'Content-Type': 'application/json'\n      },\n      Accept: 'application/json',\n    }).catch(error => {\n        console.log(error);\n    });\n    let modulos = await respuesta.json();\n    this.setState({ modulos:modulos});\n  }\n\nasync uploadFile() {\n  let file = this.state.file;\n  let codColegio = this.props.colegio.codigo;\n  if (file) {\n    let subiendo = (\n    <Alert color=\"info\">\n      <span>Subiendo Recurso</span>\n    </Alert>\n  )\n  this.setState({subiendo:subiendo});\n  await  uploadFile(file, {\n    bucketName: 'pruebareact',\n    dirName: 'aprende/'+codColegio,\n    region: 'us-east-1',\n    accessKeyId: this.props.as3,\n    secretAccessKey: this.props.ss3,\n  })\n  .then(data => {\n    const datadir = {\n      direccion:data.location,\n      plantel:this.props.colegio.codigo,\n      materia: this.state.asignatura,\n      grado: this.state.singleSelect,\n      seccion:this.state.seccion.value,\n      titulo:this.state.titulo,\n      fecha:this.state.fecha,\n      size:this.state.file.size,\n      tipo:this.state.file.type,\n    };\n    let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/guardarRecurso';\n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(datadir),\n      headers:{\n        'Content-Type': 'application/json'\n      },\n      Accept: 'application/json',\n    })\n    .then(async resp  => {\n      let nube = (\n        <Alert color=\"success\">\n          <span>Recurso en la nube</span>\n        </Alert>\n      )\n      this.setState({subiendo:nube,\n        asignatura:null, singleSelect:null});\n        await this.verTareas(this.props.colegio.id);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n    })\n    .catch(err => console.error(err));\n  }\n}\n\n  componentDidMount = async () => {\n    this.props.verCredenciales();\n    if(!this.props.colegio.id){\n      this.props.history.push(\"/auth/login\");\n    }\n    await this.verTareas(this.props.colegio.id,\"*\",null);\n  }\n\n  quitarTarea = async (id) => {\n    const datadir = {\n      codigo:id,\n    };\n    let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/quitarRecurso';\n    fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(datadir),\n        headers:{\n            'Content-Type': 'application/json'\n        },\n        Accept: 'application/json',\n    })\n    .then(async resp  => {\n        await this.verTareas(this.props.colegio.id);\n    })\n    .catch(error => {\n        console.log(error);\n    });\n  }\n\n  // ponerModal = () => {\n  //   const inputValue = this.state.alert;\n  //   this.setState({\n  //     modal: (\n  //       <ReactBSAlert\n  //         custom\n  //         showCancel\n  //         showCloseButton\n  //         confirmBtnText=\"Modificar\"\n  //         cancelBtnText=\"Salir\"\n  //         confirmBtnBsStyle=\"primary\"\n  //         cancelBtnBsStyle=\"light\"\n  //         customIcon=\"https://raw.githubusercontent.com/djorg83/react-bootstrap-sweetalert/master/demo/assets/thumbs-up.jpg\"\n  //         title=\"Cambios en la Actividad?\"\n  //         onConfirm={this.onConfirm}\n  //         onCancel={()=>this.setState({modal:null})}\n  //       >\n  //         <Form className=\"form-horizontal\">\n  //           <Row>\n  //             <Label md=\"3\">Vencimiento</Label>\n  //               <Col md=\"6\">\n  //                 <ReactDatetime\n  //                   inputProps={{\n  //                     className: \"form-control\",\n  //                     placeholder: \"dd-mm-aaaa\",\n  //                   }}\n  //                   timeFormat={false}\n  //                   value={this.state.fecha}\n  //                   onChange={(value) =>\n  //                     this.setState({ fecha: value })\n  //                   }\n  //                 />\n  //               </Col>\n  //             </Row>\n  //             <Row>\n  //               <Label md=\"3\">Grado o año</Label>\n  //               <Col md=\"6\">\n  //                 <Select\n  //                   className=\"react-select primary\"\n  //                   classNamePrefix=\"react-select\"\n  //                   name=\"singleSelect\"\n  //                   value={this.state.singleSelect}\n  //                   onChange={(value) =>\n  //                     this.setGrado(value )\n  //                   }\n  //                   options={this.props.Grado}\n  //                   placeholder=\"Seleccion el Grado o año\"\n  //                 />\n  //                 </Col>\n  //                 <Col md=\"3\">\n  //                 <Select\n  //                   className=\"react-select primary\"\n  //                   classNamePrefix=\"react-select\"\n  //                   name=\"seccion\"\n  //                   value={this.state.seccion}\n  //                   onChange={(value) =>\n  //                     this.setSeccion(value )\n  //                   }\n  //                   options={this.props.Seccion}\n  //                   placeholder=\"Seccion\"\n  //                 />\n  //                 </Col>\n  //             </Row>\n  //             <Row>\n  //               <Label md=\"3\">Titulo tarea</Label>\n  //               <Col md=\"9\">\n  //                 <FormGroup>\n  //                   <Input placeholder=\"Nombre descriptivo de la tarea\"\n  //                     type=\"text\"\n  //                     value={this.state.titulo}\n  //                     onChange={(texto) =>\n  //                         this.setState({ titulo:texto.target.value })\n  //                       }\n  //                     />\n  //                 </FormGroup>\n  //               </Col>\n  //             </Row>\n  //             <Row>\n  //               <Label md=\"3\">Asignatura</Label>\n  //               <Col md=\"9\">\n  //                 <Select\n  //                   className=\"react-select primary\"\n  //                   classNamePrefix=\"react-select\"\n  //                   name=\"singleSelect\"\n  //                   value={this.state.asignatura}\n  //                   onChange={(value) =>\n  //                     this.setState({ asignatura: value })\n  //                   }\n  //                   options={this.state.materias}\n  //                   placeholder=\"Selecciona el Area o Asignatura\"\n  //                 />\n  //               </Col>\n  //             </Row>\n  //           </Form>\n  //           <Row>.</Row>\n  //           <Row>.</Row>\n  //           <Row>.</Row>\n  //           <Row>.</Row>\n  //       </ReactBSAlert>\n  //     ),\n  //   });\n  // }\n\n  filtrar=(grado)=>{\n    alert(grado);\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"content\">\n          <Row>\n          {this.state.modal}\n            <Col md=\"6\" lg=\"6\" justify=\"center\">\n              <Card>\n                <CardHeader>\n                  <CardTitle tag=\"h4\">Registro de Tareas</CardTitle>\n                </CardHeader>\n                <CardBody>\n                  <Form className=\"form-horizontal\">\n                    <Row>\n                      <Label md=\"3\">Grado o año</Label>\n                      <Col md=\"6\">\n                        <Select\n                          className=\"react-select primary\"\n                          classNamePrefix=\"react-select\"\n                          name=\"singleSelect\"\n                          value={this.state.singleSelect}\n                          onChange={(value) =>\n                            this.setGrado(value )\n                          }\n                          options={this.props.Grado}\n                          placeholder=\"Seleccion el Grado o año\"\n                        />\n                      </Col>\n                      <Col md=\"3\">\n                        <Select\n                          className=\"react-select primary\"\n                          classNamePrefix=\"react-select\"\n                          name=\"seccion\"\n                          value={this.state.seccion}\n                          onChange={(value) =>\n                            this.setSeccion(value )\n                          }\n                          options={this.props.Seccion}\n                          placeholder=\"Seccion\"\n                        />\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Label md=\"3\">Titulo tarea</Label>\n                      <Col md=\"9\">\n                        <FormGroup>\n                          <Input placeholder=\"Nombre descriptivo de la tarea\"\n                            type=\"text\"\n                            value={this.state.titulo}\n                            onChange={(texto) =>\n                                this.setState({ titulo:texto.target.value })\n                              }\n                          />\n                        </FormGroup>\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Label md=\"3\">Asignatura</Label>\n                      <Col md=\"9\">\n                        <Select\n                          className=\"react-select primary\"\n                          classNamePrefix=\"react-select\"\n                          name=\"singleSelect\"\n                          value={this.state.asignatura}\n                          onChange={(value) =>\n                            this.setState({ asignatura: value })\n                          }\n                          options={this.state.materias}\n                          placeholder=\"Selecciona el Area o Asignatura\"\n                        />\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Label md=\"3\">Vencimiento</Label>\n                      <Col md=\"6\">\n                        <ReactDatetime\n                          inputProps={{\n                            className: \"form-control\",\n                            placeholder: \"Date Picker Here\",\n                          }}\n                          timeFormat={false}\n                          value={this.state.fecha}\n                          onChange={(value) =>\n                            this.setState({ fecha: value })\n                          }\n                        />\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Label md=\"3\">Recurso</Label>\n                      <Col md=\"9\">\n                        <FormGroup>\n                          <div className=\"fileinput text-center\">\n                            <input type=\"file\"\n                              accept=\"*\"\n                              onChange={this.handleImageChange}\n                              ref=\"fileInput\"\n                            />\n                            <div>\n                              {this.state.file === null ? (\n                                <Button className=\"btn-round\" onClick={() => this.handleClick()}>\n                                  {this.props.avatar ? \"Add Photo\" : \"Selecciona el archivo\"}\n                                </Button>\n                              ) : (\n                                <span>\n                                  <Button className=\"btn-round\"\n                                    onClick={() => this.handleClick()}\n                                  >\n                                    Modificar\n                                  </Button>\n                                  {this.props.avatar ? <br /> : null}\n                                  <Button\n                                    color=\"danger\"\n                                    className=\"btn-round\"\n                                    onClick={() => this.handleRemove()}\n                                  >\n                                    <i className=\"fa fa-times\" />\n                                    Quitar\n                                  </Button>\n                                </span>\n                              )}\n                              {this.state.subiendo}\n                            </div>\n                          </div>\n                        </FormGroup>\n                      </Col>\n                    </Row>\n                  </Form>\n                </CardBody>\n                <CardFooter>\n                  <Row>\n                    <Col md=\"3\" />\n                    {this.state.file !== null ? (\n                    <Col md=\"9\">\n                      <Button className=\"btn-round\"\n                      color=\"info\" type=\"submit\"\n                      onClick={()=>this.uploadFile()}\n                    >\n                        Subir y registrar tarea\n                      </Button>\n                    </Col> ) : (null)}\n                  </Row>\n                </CardFooter>\n              </Card>\n            </Col>\n            {/* <Col md=\"6\" lg=\"6\">\n              <Card>\n                <CardHeader>\n                  <CardText tag=\"div\">\n                    <CardTitle tag=\"h4\">Recursos Recomendados</CardTitle>\n                    <p className=\"card-category\">\n                      Busquedas automaticas del Bot de micolegio\n                    </p>\n                  </CardText>\n                </CardHeader>\n                <CardBody className=\"table-responsive\">\n                  <Table className=\"table-hover\">\n                    <thead className=\"text-warning\">\n                      <tr>\n                        <th>#</th>\n                        <th>Tipo</th>\n                        <th>Titulo</th>\n                        <th>Fuente</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                    </tbody>\n                  </Table>\n                </CardBody>\n              </Card>\n            </Col> */}\n          </Row>\n          <Row>\n            <Col className=\"text-center\" lg=\"12\" md=\"12\">\n              <Row>\n                <Col className=\"text-center\" lg=\"12\" md=\"12\">\n                  <Card className=\"card-tasks\">\n                    <CardHeader>\n                      <Row>\n                        <Col md=\"12\">\n                          <CardTitle tag=\"h4\">\n                            Tareas Activas\n                          </CardTitle>\n                        </Col>\n                      </Row>\n                    </CardHeader>\n                    <CardBody className=\"table-full-width table-hover\">\n                      <Row>\n                        <Col md=\"12\">\n                          <Table responsive>\n                          <thead>\n                            <tr>\n                              <th></th>\n                              <th>Grado</th>\n                              <th>Seccion</th>\n                              <th>Area</th>\n                              <th>Titulo</th>\n                              <th>Fecha</th>\n                              <th>Accion</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {this.state.tareas.map(tarea=>(\n                              <tr className=\"table-warning\">\n                                <td>\n                                  <div className=\"timeline-badge danger\">\n                                    <i className=\"nc-icon nc-single-copy-04\" />\n                                  </div>\n                                </td>\n                                <td className=\"text-left\">\n                                  {tarea.grado}\n                                </td>\n                                <td className=\"text-left\">\n                                  {tarea.seccion}\n                                </td>\n                                <td className=\"text-left\">\n                                  {tarea.materia}\n                                </td>\n                                <td className=\"text-left\">\n                                  {tarea.titulo}\n                                </td>\n                                <td className=\"text-left\">\n                                  {tarea.fecha} ({tarea.hora})\n                                </td>\n                                <td className=\"td-actions text-right\">\n                                  {/* <Button\n                                    className=\"btn-round btn-icon btn-icon-mini btn-neutral\"\n                                    color=\"info\"\n                                    title=\"\"\n                                    type=\"button\"\n                                    onClick={()=>this.ponerModal(tarea._id)}\n                                  >\n                                    <i className=\"nc-icon nc-ruler-pencil\" />\n                                  </Button> */}\n                                  <Button\n                                    className=\"btn-round btn-icon btn-icon-mini btn-neutral\"\n                                    color=\"danger\"\n                                    title=\"\"\n                                    type=\"button\"\n                                    onClick={()=>this.quitarTarea(tarea._id)}\n                                  >\n                                    <i className=\"nc-icon nc-simple-remove\" />\n                                  </Button>\n                                </td>\n                              </tr>\n                            ))}\n                          </tbody>\n                          </Table>\n                        </Col>\n                      </Row>\n                    </CardBody>\n                    <CardFooter>\n                      <hr />\n                      <div className=\"stats\">\n                        <i className=\"fa fa-refresh spin\" />\n                      </div>\n                    </CardFooter>\n                  </Card>\n                </Col>\n                {/* <Col md=\"12\" lg=\"12\">\n                  <Card>\n                    <CardHeader>\n                      <CardText tag=\"div\">\n                        <p className=\"card-category\">\n                        <b>Tareas Inactivas</b>\n                        </p>\n                      </CardText>\n                    </CardHeader>\n                    <CardBody className=\"table-responsive\">\n                      <Table className=\"table-hover\">\n                        <thead className=\"text-warning\">\n                          <tr>\n                            <th>#</th>\n                            <th>Grado</th>\n                            <th>Area</th>\n                            <th>Fecha</th>\n                            <th></th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                        </tbody>\n                      </Table>\n                    </CardBody>\n                  </Card>\n                </Col> */}\n              </Row>\n            </Col>\n          </Row>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (reducers) => {\n  return reducers.mainReducer;\n}\n\nexport default connect(mapStateToProps, mainActions )(Widgets);\n"]},"metadata":{},"sourceType":"module"}