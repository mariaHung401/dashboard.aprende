{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macbook/Desktop/a.micole_rebe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/macbook/Desktop/a.micole_rebe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";// reactstrap components\nimport{Button,Card,CardHeader,CardBody,CardFooter,Form,Input,InputGroupAddon,InputGroupText,InputGroup,Container,Col,Row}from\"reactstrap\";import*as mainActions from\"../../actions/mainActions\";import{connect}from'react-redux';class CreateAccount extends React.Component{constructor(props){var _this;super(props);_this=this;this.autenticar=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,url,respuesta,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:data={email:_this.state.email,codigo:_this.state.codigo,clave:_this.state.clave};url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/accesoColegio';_context.next=4;return fetch(url,{method:'POST',body:JSON.stringify(data),headers:{'Content-Type':'application/json'},Accept:'application/json'}).catch(error=>{console.log(error);});case 4:respuesta=_context.sent;_context.next=7;return respuesta.json();case 7:result=_context.sent;if(result.respuesta==\"200\"){_this.props.setColegio(result.datos[0],_this.state.codigo);_this.props.history.push(\"/admin/dashboard\");}case 9:case\"end\":return _context.stop();}},_callee);}));this.state={email:\"\",codigo:\"\",clave:\"\"};}componentDidMount(){document.body.classList.toggle(\"register-page\");}componentWillUnmount(){document.body.classList.toggle(\"register-page\");}render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"register-page\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"ml-auto mr-auto\",lg:\"4\",md:\"6\"},/*#__PURE__*/React.createElement(Form,{action:\"\",className:\"form\",method:\"\"},/*#__PURE__*/React.createElement(Card,{className:\"card-register\"},/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"h5\",{className:\"header text-center\"},\"Micolegio Aprende\"),/*#__PURE__*/React.createElement(\"h3\",{className:\"header text-center\"},\"Crea una cuenta\"))),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"prepend\"},/*#__PURE__*/React.createElement(InputGroupText,null,/*#__PURE__*/React.createElement(\"i\",{className:\"nc-icon nc-single-02\"}))),/*#__PURE__*/React.createElement(Input,{placeholder:\"Usuario\",type:\"text\",value:this.state.codigo,onChange:e=>this.setState({codigo:e.target.value})})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"prepend\"},/*#__PURE__*/React.createElement(InputGroupText,null,/*#__PURE__*/React.createElement(\"i\",{className:\"nc-icon nc-email-85\"}))),/*#__PURE__*/React.createElement(Input,{placeholder:\"Email\",type:\"text\",value:this.state.email,onChange:e=>this.setState({email:e.target.value})})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"prepend\"},/*#__PURE__*/React.createElement(InputGroupText,null,/*#__PURE__*/React.createElement(\"i\",{className:\"nc-icon nc-key-25\"}))),/*#__PURE__*/React.createElement(Input,{placeholder:\"Clave\",type:\"password\",autoComplete:\"on\",value:this.state.clave,onChange:e=>this.setState({clave:e.target.value})})),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(CardFooter,null,/*#__PURE__*/React.createElement(Button,{block:true,className:\"btn-round mb-3\",color:\"warning\",href:\"#\",onClick:()=>this.autenticar()},\"Crear cuenta\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"full-page-background\",style:{backgroundImage:\"url(\".concat(require(\"assets/img/createMicol.png\"),\")\")}}));}}const mapStateToProps=reducers=>{return reducers.mainReducer;};export default connect(mapStateToProps,mainActions)(CreateAccount);","map":{"version":3,"sources":["/Users/macbook/Desktop/a.micole_rebe/src/views/pages/CreateAccount.js"],"names":["React","Button","Card","CardHeader","CardBody","CardFooter","Form","Input","InputGroupAddon","InputGroupText","InputGroup","Container","Col","Row","mainActions","connect","CreateAccount","Component","constructor","props","autenticar","data","email","state","codigo","clave","url","fetch","method","body","JSON","stringify","headers","Accept","catch","error","console","log","respuesta","json","result","setColegio","datos","history","push","componentDidMount","document","classList","toggle","componentWillUnmount","render","e","setState","target","value","backgroundImage","require","mapStateToProps","reducers","mainReducer"],"mappings":"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","sourcesContent":["import React from \"react\";\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Form,\n  Input,\n  InputGroupAddon,\n  InputGroupText,\n  InputGroup,\n  Container,\n  Col,\n  Row,\n} from \"reactstrap\";\nimport * as mainActions from \"../../actions/mainActions\";\nimport { connect } from 'react-redux';\n\nclass CreateAccount extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      codigo:\"\",\n      clave:\"\"\n    };\n  }\n\n  componentDidMount() {\n    document.body.classList.toggle(\"register-page\");\n  }\n  componentWillUnmount() {\n    document.body.classList.toggle(\"register-page\");\n  }\n\n  autenticar = async () => {\n    const data = {\n      email:this.state.email,\n      codigo:this.state.codigo,\n      clave:this.state.clave,\n    };\n    let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/accesoColegio';\n    let respuesta = await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(data),\n        headers:{\n            'Content-Type': 'application/json'\n        },\n        Accept: 'application/json',\n    })\n    .catch(error => {\n        console.log(error);\n    });\n    let result = await respuesta.json();\n    if(result.respuesta==\"200\"){\n      this.props.setColegio(result.datos[0],this.state.codigo);\n      this.props.history.push(\"/admin/dashboard\");\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"register-page\">\n        <Container>\n          <Row>\n            <Col className=\"ml-auto mr-auto\" lg=\"4\" md=\"6\">\n              <Form action=\"\" className=\"form\" method=\"\">\n                <Card className=\"card-register\">\n                  <CardHeader>\n                    <CardHeader>\n                      <h5 className=\"header text-center\">Micolegio Aprende</h5>\n                      <h3 className=\"header text-center\">Crea una cuenta</h3>\n                    </CardHeader>\n                  </CardHeader>\n                  <CardBody>\n                    <InputGroup>\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"nc-icon nc-single-02\" />\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input placeholder=\"Usuario\"\n                        type=\"text\"\n                        value={this.state.codigo}\n                        onChange={(e)=>\n                          this.setState({codigo:e.target.value})}\n                      />\n                    </InputGroup>\n                    <InputGroup>\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"nc-icon nc-email-85\" />\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input placeholder=\"Email\"\n                        type=\"text\"\n                        value={this.state.email}\n                        onChange={(e)=>\n                          this.setState({email:e.target.value})}\n                      />\n                    </InputGroup>\n                    <InputGroup>\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"nc-icon nc-key-25\" />\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input\n                        placeholder=\"Clave\"\n                        type=\"password\"\n                        autoComplete=\"on\"\n                        value={this.state.clave}\n                        onChange={(e)=>\n                          this.setState({clave:e.target.value})}\n                      />\n                    </InputGroup>\n                    <br />\n                  </CardBody>\n                  <CardFooter>\n                    <Button\n                      block\n                      className=\"btn-round mb-3\"\n                      color=\"warning\"\n                      href=\"#\"\n                      onClick={() => this.autenticar()}\n                    >\n                      Crear cuenta\n                    </Button>\n                  </CardFooter>\n                </Card>\n              </Form>\n            </Col>\n          </Row>\n        </Container>\n        <div\n          className=\"full-page-background\"\n          style={{\n            backgroundImage: `url(${require(\"assets/img/createMicol.png\")})`,\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (reducers) => {\n  return reducers.mainReducer;\n}\n\nexport default connect(mapStateToProps, mainActions )(CreateAccount);\n"]},"metadata":{},"sourceType":"module"}