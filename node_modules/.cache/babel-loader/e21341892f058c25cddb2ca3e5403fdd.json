{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macbook/Desktop/a.micole_rebe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/macbook/Desktop/a.micole_rebe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";// reactstrap components\nimport{Badge,Button,Card,CardHeader,CardBody,CardFooter,CardTitle,CardText,Label,FormGroup,Input,Alert,Table,Row,Col,UncontrolledTooltip,Form}from\"reactstrap\";import ReactBSAlert from\"react-bootstrap-sweetalert\";import ReactDatetime from\"react-datetime\";import defaultImage from\"assets/img/image_placeholder.jpg\";import defaultAvatar from\"assets/img/placeholder.jpg\";import Select from\"react-select\";import*as mainActions from\"../actions/mainActions\";import{connect}from'react-redux';import{uploadFile}from'react-s3';class Widgets extends React.Component{constructor(){var _this;super();_this=this;this.handleRefresh=()=>{// by calling this method react re-renders the component\nthis.verTareas(this.props.colegio.id,\"*\",null);console.log(\"Pagina Refrescada\");};this.setGrado=value=>{this.setState({singleSelect:value});if(value.value>10){this.setState({materias:this.props.Secundaria});}else if(value.value>4){this.setState({materias:this.props.Primaria});}else{this.setState({materias:this.props.Prescolar});}};this.setGrado_tareas_activas=value=>{if(value!=undefined){this.setState({asignatura_tareas_activas:value});if(value.value>10){this.setState({materias_tareas_activas:this.props.Secundaria});}else{this.setState({materias_tareas_activas:this.props.Primaria});}}};this.setSeccion=value=>{this.setState({seccion:value});};this.setModulos=value=>{this.setState({modulo:value});};this.verTareas=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id,grado,materia){var url,respuesta,tareas;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(grado!==\"*\"){_this.setGrado_tareas_activas(grado.value);grado=grado.key;}console.log(grado);url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/verRecursos?id='+id+\"&grado=\"+grado+\"&materia=\"+materia;_context.next=5;return fetch(url,{method:'GET',mode:'cors',cache:'default',headers:{'Content-Type':'application/json'},Accept:'application/json'}).catch(error=>{console.log(error);});case 5:respuesta=_context.sent;_context.next=8;return respuesta.json();case 8:tareas=_context.sent;_this.setState({tareas:tareas});case 10:case\"end\":return _context.stop();}},_callee);}));return function(_x,_x2,_x3){return _ref.apply(this,arguments);};}();this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_this.props.verCredenciales();if(!_this.props.colegio.id){_this.props.history.push(\"/auth/login\");}_context2.next=4;return _this.verTareas(_this.props.colegio.id,\"*\",null);case 4:case\"end\":return _context2.stop();}},_callee2);}));this.quitarTarea=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){var datadir,url;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:datadir={codigo:id};url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/quitarRecurso';fetch(url,{method:'POST',body:JSON.stringify(datadir),headers:{'Content-Type':'application/json'},Accept:'application/json'}).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(resp){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.verTareas(_this.props.colegio.id);case 2:case\"end\":return _context3.stop();}},_callee3);}));return function(_x5){return _ref4.apply(this,arguments);};}()).catch(error=>{console.log(error);});case 3:case\"end\":return _context4.stop();}},_callee4);}));return function(_x4){return _ref3.apply(this,arguments);};}();this.ponerModal=()=>{const inputValue=this.state.alert;this.setState({modal:/*#__PURE__*/React.createElement(ReactBSAlert,{custom:true,showCancel:true,showCloseButton:true,confirmBtnText:\"Modificar\",cancelBtnText:\"Salir\",confirmBtnBsStyle:\"primary\",cancelBtnBsStyle:\"light\",customIcon:\"https://raw.githubusercontent.com/djorg83/react-bootstrap-sweetalert/master/demo/assets/thumbs-up.jpg\",title:\"Cambios en la Actividad?\",onConfirm:this.onConfirm,onCancel:()=>this.setState({modal:null})},/*#__PURE__*/React.createElement(Form,{className:\"form-horizontal\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Vencimiento\"),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(ReactDatetime,{inputProps:{className:\"form-control\",placeholder:\"dd-mm-aaaa\"},timeFormat:false,value:this.state.fecha,onChange:value=>this.setState({fecha:value})}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Grado o a\\xF1o\"),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(Select,{className:\"react-select primary\",classNamePrefix:\"react-select\",name:\"singleSelect\",value:this.state.singleSelect,onChange:value=>this.setGrado(value),options:this.props.Grado,placeholder:\"Seleccion el Grado o a\\xF1o\"})),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Select,{className:\"react-select primary\",classNamePrefix:\"react-select\",name:\"seccion\",value:this.state.seccion,onChange:value=>this.setSeccion(value),options:this.props.Seccion,placeholder:\"Seccion\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Titulo tarea\"),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Input,{placeholder:\"Nombre descriptivo de la tarea\",type:\"text\",value:this.state.titulo,onChange:texto=>this.setState({titulo:texto.target.value})})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Asignatura\"),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(Select,{className:\"react-select primary\",classNamePrefix:\"react-select\",name:\"singleSelect\",value:this.state.asignatura,onChange:value=>this.setState({asignatura:value}),options:this.state.materias,placeholder:\"Selecciona el Area o Asignatura\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Item Curriculo\"),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(Select,{className:\"react-select primary\",classNamePrefix:\"react-select\",name:\"singleSelect\",value:this.state.curriculo,onChange:value=>this.setState({curriculo:value}),options:this.state.itemscurriculo,placeholder:\"Selecciona el Item o Bloque\"})))),/*#__PURE__*/React.createElement(Row,null,\".\"),/*#__PURE__*/React.createElement(Row,null,\".\"),/*#__PURE__*/React.createElement(Row,null,\".\"),/*#__PURE__*/React.createElement(Row,null,\".\"))});};this.filtrar=grado=>{alert(grado);};this.state={singleSelect:null,tareas:[],subiendo:null,materias:null,seccion:null,asignatura:null,file:null,imagePreviewUrl:defaultImage,titulo:null,fecha:null,Grado:[],Seccion:[],Primaria:[],Secundaria:[],modulos:[],itemscurriculo:[],curriculo:null,acepta:\"*\",parabuscar:null,asignatura_tareas_activas:{value:null,label:null},materias_tareas_activas:null};this.handleImageChange=this.handleImageChange.bind(this);this.handleSubmit=this.handleSubmit.bind(this);this.handleClick=this.handleClick.bind(this);this.handleRemove=this.handleRemove.bind(this);}handleImageChange(e){const min=1;const max=100;const rand=min+Math.random()*(max-min);e.preventDefault();const fileUnchange=e.target.files[0];const file=new File([fileUnchange],String(rand)+fileUnchange.name,{type:fileUnchange.type,lastModified:Date.now()});if(file.size<4000000){let doc=new FileReader();doc.onloadend=()=>{this.setState({file:file,imagePreviewUrl:doc.result});};doc.readAsDataURL(file);}else{let subiendo=/*#__PURE__*/React.createElement(Alert,{color:\"info\"},/*#__PURE__*/React.createElement(\"span\",null,\"Recurso invalido\"));this.setState({subirRecurso:false,mensaje:null,file:null,imagePreviewUrl:null,subiendo:subiendo});alert(\"Solo se aceptan documentos menores a 4mb \");}}handleSubmit(e){e.preventDefault();}handleClick(){this.refs.fileInput.click();}handleRemove(){this.setState({file:null,imagePreviewUrl:this.props.avatar?defaultAvatar:defaultImage});this.refs.fileInput.value=null;}verModulos(){var _this2=this;return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var url,respuesta,modulos;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/vermodulos';_context5.next=3;return fetch(url,{method:'GET',mode:'cors',cache:'default',headers:{'Content-Type':'application/json'},Accept:'application/json'}).catch(error=>{console.log(error);});case 3:respuesta=_context5.sent;_context5.next=6;return respuesta.json();case 6:modulos=_context5.sent;_this2.setState({modulos:modulos});case 8:case\"end\":return _context5.stop();}},_callee5);}))();}uploadFile(){var _this3=this;return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var file,codColegio,subiendo;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:file=_this3.state.file;codColegio=_this3.props.colegio.codigo;if(!file){_context7.next=7;break;}subiendo=/*#__PURE__*/React.createElement(Alert,{color:\"info\"},/*#__PURE__*/React.createElement(\"span\",null,\"Subiendo Recurso\"));_this3.setState({subiendo:subiendo});_context7.next=7;return uploadFile(file,{bucketName:'pruebareact',dirName:'aprende/'+codColegio,region:'us-east-1',accessKeyId:_this3.props.as3,secretAccessKey:_this3.props.ss3}).then(data=>{const datadir={direccion:data.location,plantel:_this3.props.colegio.codigo,materia:_this3.state.asignatura,grado:_this3.state.singleSelect,seccion:_this3.state.seccion.value,titulo:_this3.state.titulo,fecha:_this3.state.fecha,size:_this3.state.file.size,tipo:_this3.state.file.type};let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/guardarRecurso';fetch(url,{method:'POST',body:JSON.stringify(datadir),headers:{'Content-Type':'application/json'},Accept:'application/json'}).then(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(resp){var nube;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:nube=/*#__PURE__*/React.createElement(Alert,{color:\"success\"},/*#__PURE__*/React.createElement(\"span\",null,\"Recurso en la nube\"));_this3.setState({subiendo:nube,asignatura:null,singleSelect:null});_context6.next=4;return _this3.verTareas(_this3.props.colegio.id);case 4:case\"end\":return _context6.stop();}},_callee6);}));return function(_x6){return _ref5.apply(this,arguments);};}()).catch(error=>{console.log(error);});}).catch(err=>console.error(err));case 7:case\"end\":return _context7.stop();}},_callee7);}))();}render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(Row,null,this.state.modal,/*#__PURE__*/React.createElement(Col,{md:\"6\",lg:\"6\",justify:\"center\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardTitle,{tag:\"h4\"},\"Registro de Tareas\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Form,{className:\"form-horizontal\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Grado o a\\xF1o\"),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(Select,{className:\"react-select primary\",classNamePrefix:\"react-select\",name:\"singleSelect\",value:this.state.singleSelect,onChange:value=>this.setGrado(value),options:this.props.Grado,placeholder:\"Seleccion el Grado o a\\xF1o\"})),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Select,{className:\"react-select primary\",classNamePrefix:\"react-select\",name:\"seccion\",value:this.state.seccion,onChange:value=>this.setSeccion(value),options:this.props.Seccion,placeholder:\"Seccion\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Titulo tarea\"),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Input,{placeholder:\"Nombre descriptivo de la tarea\",type:\"text\",value:this.state.titulo,onChange:texto=>this.setState({titulo:texto.target.value})})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Asignatura\"),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(Select,{className:\"react-select primary\",classNamePrefix:\"react-select\",name:\"singleSelect\",value:this.state.asignatura,onChange:value=>this.setState({asignatura:value}),options:this.state.materias,placeholder:\"Selecciona el Area o Asignatura\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Item Curriculo\"),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(Select,{className:\"react-select primary\",classNamePrefix:\"react-select\",name:\"singleSelect\",value:this.state.curriculo,onChange:value=>this.setState({curriculo:value}),options:this.state.itemscurriculo,placeholder:\"Selecciona el Item o Bloque\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Vencimiento\"),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(ReactDatetime,{inputProps:{className:\"form-control\",placeholder:\"Date Picker Here\"},timeFormat:false,value:this.state.fecha,onChange:value=>this.setState({fecha:value})}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{md:\"3\"},\"Recurso\"),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"div\",{className:\"fileinput text-center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\"*\",onChange:this.handleImageChange,ref:\"fileInput\"}),/*#__PURE__*/React.createElement(\"div\",null,this.state.file===null?/*#__PURE__*/React.createElement(Button,{className:\"btn-round\",onClick:()=>this.handleClick()},this.props.avatar?\"Add Photo\":\"Selecciona el archivo\"):/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(Button,{className:\"btn-round\",onClick:()=>this.handleClick()},\"Modificar\"),this.props.avatar?/*#__PURE__*/React.createElement(\"br\",null):null,/*#__PURE__*/React.createElement(Button,{color:\"danger\",className:\"btn-round\",onClick:()=>this.handleRemove()},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-times\"}),\"Quitar\")),this.state.subiendo))))))),/*#__PURE__*/React.createElement(CardFooter,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"}),this.state.file!==null?/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(Button,{className:\"btn-round\",color:\"info\",type:\"submit\",onClick:()=>this.uploadFile()},\"Subir y registrar tarea\")):null))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"text-center\",lg:\"12\",md:\"12\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"text-center\",lg:\"12\",md:\"12\"},/*#__PURE__*/React.createElement(Card,{className:\"card-tasks\"},/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(CardTitle,{tag:\"h3\"},/*#__PURE__*/React.createElement(Button,{className:\"btn-round btn-icon\",className:\"btn-link\",color:\"info\",onClick:this.handleRefresh},/*#__PURE__*/React.createElement(\"i\",{className:\"nc-icon nc-refresh-69\"})),\"Tareas Activas\")),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(Select,{className:\"react-select primary\",classNamePrefix:\"react-select\",name:\"parabuscar\",value:this.state.parabuscar,onChange:value=>{this.verTareas(this.props.colegio.id,value,null);this.setState({parabuscar:value});},options:this.props.Grado,placeholder:\"Seleccione Grado o A\\xF1o\"})))),/*#__PURE__*/React.createElement(CardBody,{className:\"table-full-width table-hover\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(Table,{responsive:true},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null),/*#__PURE__*/React.createElement(\"th\",null,\"Grado\"),/*#__PURE__*/React.createElement(\"th\",null,\"Seccion\"),/*#__PURE__*/React.createElement(\"th\",null,\"Area\"),/*#__PURE__*/React.createElement(\"th\",null,\"Titulo\"),/*#__PURE__*/React.createElement(\"th\",null,\"Fecha\"),/*#__PURE__*/React.createElement(\"th\",null,\"Accion\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.tareas.map(tarea=>/*#__PURE__*/React.createElement(\"tr\",{className:\"table\"},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"timeline-badge danger\"},/*#__PURE__*/React.createElement(\"i\",{className:\"nc-icon nc-single-copy-04\"}))),/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},tarea.grado),/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},tarea.seccion),/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},tarea.materia),/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},tarea.titulo),/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},tarea.fecha,\" (\",tarea.hora,\")\"),/*#__PURE__*/React.createElement(\"td\",{className:\"td-actions text-left\"},/*#__PURE__*/React.createElement(Button,{className:\"btn-round btn-icon\",color:\"primary\"// outline\n,href:tarea.direccion,target:\"_blank\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-download\"})),/*#__PURE__*/React.createElement(Button,{className:\"btn-round btn-icon\",color:\"danger\"// outline\n,type:\"button\",onClick:()=>this.quitarTarea(tarea._id)},/*#__PURE__*/React.createElement(\"i\",{className:\"nc-icon nc-simple-remove\"})))))))))))))))));}}const mapStateToProps=reducers=>{return reducers.mainReducer;};export default connect(mapStateToProps,mainActions)(Widgets);","map":{"version":3,"sources":["/Users/macbook/Desktop/a.micole_rebe/client/src/views/Widgets.js"],"names":["React","Badge","Button","Card","CardHeader","CardBody","CardFooter","CardTitle","CardText","Label","FormGroup","Input","Alert","Table","Row","Col","UncontrolledTooltip","Form","ReactBSAlert","ReactDatetime","defaultImage","defaultAvatar","Select","mainActions","connect","uploadFile","Widgets","Component","constructor","handleRefresh","verTareas","props","colegio","id","console","log","setGrado","value","setState","singleSelect","materias","Secundaria","Primaria","Prescolar","setGrado_tareas_activas","undefined","asignatura_tareas_activas","materias_tareas_activas","setSeccion","seccion","setModulos","modulo","grado","materia","key","url","fetch","method","mode","cache","headers","Accept","catch","error","respuesta","json","tareas","componentDidMount","verCredenciales","history","push","quitarTarea","datadir","codigo","body","JSON","stringify","then","resp","ponerModal","inputValue","state","alert","modal","onConfirm","className","placeholder","fecha","Grado","Seccion","titulo","texto","target","asignatura","curriculo","itemscurriculo","filtrar","subiendo","file","imagePreviewUrl","modulos","acepta","parabuscar","label","handleImageChange","bind","handleSubmit","handleClick","handleRemove","e","min","max","rand","Math","random","preventDefault","fileUnchange","files","File","String","name","type","lastModified","Date","now","size","doc","FileReader","onloadend","result","readAsDataURL","subirRecurso","mensaje","refs","fileInput","click","avatar","verModulos","codColegio","bucketName","dirName","region","accessKeyId","as3","secretAccessKey","ss3","data","direccion","location","plantel","tipo","nube","err","render","map","tarea","hora","_id","mapStateToProps","reducers","mainReducer"],"mappings":"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","sourcesContent":["import React from \"react\";\n\n// reactstrap components\nimport {\n  Badge,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  CardTitle,\n  CardText,\n  Label,\n  FormGroup,\n  Input,\n  Alert,\n  Table,\n  Row,\n  Col,\n  UncontrolledTooltip,\n  Form,\n} from \"reactstrap\";\nimport ReactBSAlert from \"react-bootstrap-sweetalert\";\nimport ReactDatetime from \"react-datetime\";\nimport defaultImage from \"assets/img/image_placeholder.jpg\";\nimport defaultAvatar from \"assets/img/placeholder.jpg\";\nimport Select from \"react-select\";\nimport * as mainActions from \"../actions/mainActions\";\nimport { connect } from 'react-redux';\nimport { uploadFile } from 'react-s3';\n\nclass Widgets extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      singleSelect: null,\n      tareas: [],\n      subiendo: null,\n      materias:null,\n      seccion:null,\n      asignatura:null,\n      file: null,\n      imagePreviewUrl: defaultImage,\n      titulo:null,\n      fecha:null,\n      Grado:[],\n      Seccion:[],\n      Primaria:[],\n      Secundaria:[],\n      modulos:[],\n      itemscurriculo:[],\n      curriculo:null,\n      acepta:\"*\",\n      parabuscar:null,\n      asignatura_tareas_activas:{\n        value:null,\n        label:null\n      },\n      materias_tareas_activas:null\n    };\n    this.handleImageChange = this.handleImageChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleRemove = this.handleRemove.bind(this);\n  };\n\n  handleImageChange(e) {\n    const min = 1;\n    const max = 100;\n    const rand = min + Math.random() * (max - min);\n    e.preventDefault();\n    const fileUnchange = e.target.files[0];\n    const file = new File([fileUnchange],\n      String(rand)+fileUnchange.name, { type: fileUnchange.type, lastModified: Date.now()});\n    if(file.size<4000000){\n      let doc = new FileReader();\n      doc.onloadend = () => {\n        this.setState({\n          file: file,\n          imagePreviewUrl: doc.result,\n        });\n      };\n      doc.readAsDataURL(file);\n    }else{\n      let subiendo = (\n        <Alert color=\"info\">\n          <span>Recurso invalido</span>\n        </Alert>\n      );\n      this.setState({subirRecurso:false, mensaje:null,\n        file:null, imagePreviewUrl:null, subiendo:subiendo,\n      });\n      alert(\"Solo se aceptan documentos menores a 4mb \");\n    }\n  };\n\n  handleSubmit(e) {\n    e.preventDefault();\n  };\n\n  handleClick() {\n    this.refs.fileInput.click();\n  };\n\n  handleRemove() {\n    this.setState({\n      file: null,\n      imagePreviewUrl: this.props.avatar ? defaultAvatar : defaultImage,\n    });\n    this.refs.fileInput.value = null;\n  };\n\n  handleRefresh = () => {\n    // by calling this method react re-renders the component\n    this.verTareas(this.props.colegio.id,\"*\",null);\n    console.log(\"Pagina Refrescada\")\n  };\n\n  setGrado = (value) => {\n    this.setState({ singleSelect: value })\n    if(value.value>10){\n      this.setState({materias:this.props.Secundaria})\n    }else if(value.value>4) {\n      this.setState({materias:this.props.Primaria})\n    }else{\n      this.setState({materias:this.props.Prescolar})\n    }\n  };\n\n  setGrado_tareas_activas = (value) => {\n    if(value!=undefined){\n      this.setState({ asignatura_tareas_activas: value })\n      if(value.value>10){\n        this.setState({materias_tareas_activas:this.props.Secundaria})\n      }else{\n        this.setState({materias_tareas_activas:this.props.Primaria})\n      }\n    }\n  }\n\n  setSeccion = (value) => {\n    this.setState({ seccion: value })\n  }\n\n  setModulos = (value)  => {\n    this.setState({ modulo: value })\n  }\n\n  verTareas = async (id,grado,materia) => {\n    if(grado!==\"*\"){\n      this.setGrado_tareas_activas(grado.value);\n      grado=grado.key;\n    }\n    console.log(grado)\n    let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/verRecursos?id='\n      +id+\"&grado=\"+grado+\"&materia=\"+materia;\n    let respuesta = await fetch(url, {\n        method: 'GET',\n        mode: 'cors',\n        cache: 'default',\n        headers:{\n            'Content-Type': 'application/json'\n        },\n        Accept: 'application/json',\n    }).catch(error => {\n        console.log(error);\n    });\n    let tareas = await respuesta.json();\n    this.setState({ tareas:tareas});\n  }\n\n  async verModulos(){\n    let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/vermodulos';\n    let respuesta = await fetch(url, {\n      method: 'GET',\n      mode: 'cors',\n      cache: 'default',\n      headers:{\n          'Content-Type': 'application/json'\n      },\n      Accept: 'application/json',\n    }).catch(error => {\n        console.log(error);\n    });\n    let modulos = await respuesta.json();\n    this.setState({ modulos:modulos});\n  }\n\nasync uploadFile() {\n  let file = this.state.file;\n  let codColegio = this.props.colegio.codigo;\n  if (file) {\n    let subiendo = (\n    <Alert color=\"info\">\n      <span>Subiendo Recurso</span>\n    </Alert>\n  )\n  this.setState({subiendo:subiendo});\n  await  uploadFile(file, {\n    bucketName: 'pruebareact',\n    dirName: 'aprende/'+codColegio,\n    region: 'us-east-1',\n    accessKeyId: this.props.as3,\n    secretAccessKey: this.props.ss3,\n  })\n  .then(data => {\n    const datadir = {\n      direccion:data.location,\n      plantel:this.props.colegio.codigo,\n      materia: this.state.asignatura,\n      grado: this.state.singleSelect,\n      seccion:this.state.seccion.value,\n      titulo:this.state.titulo,\n      fecha:this.state.fecha,\n      size:this.state.file.size,\n      tipo:this.state.file.type,\n    };\n    let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/guardarRecurso';\n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(datadir),\n      headers:{\n        'Content-Type': 'application/json'\n      },\n      Accept: 'application/json',\n    })\n    .then(async resp  => {\n      let nube = (\n        <Alert color=\"success\">\n          <span>Recurso en la nube</span>\n        </Alert>\n      )\n      this.setState({subiendo:nube,\n        asignatura:null, singleSelect:null});\n        await this.verTareas(this.props.colegio.id);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n    })\n    .catch(err => console.error(err));\n  }\n}\n\n  componentDidMount = async () => {\n    this.props.verCredenciales();\n    if(!this.props.colegio.id){\n      this.props.history.push(\"/auth/login\");\n    }\n    await this.verTareas(this.props.colegio.id,\"*\",null);\n  };\n\n  quitarTarea = async (id) => {\n    const datadir = {\n      codigo:id,\n    };\n    let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/quitarRecurso';\n    fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(datadir),\n        headers:{\n            'Content-Type': 'application/json'\n        },\n        Accept: 'application/json',\n    })\n    .then(async resp  => {\n        await this.verTareas(this.props.colegio.id);\n    })\n    .catch(error => {\n        console.log(error);\n    });\n  };\n\n  ponerModal = () => {\n    const inputValue = this.state.alert;\n    this.setState({\n      modal: (\n        <ReactBSAlert\n          custom\n          showCancel\n          showCloseButton\n          confirmBtnText=\"Modificar\"\n          cancelBtnText=\"Salir\"\n          confirmBtnBsStyle=\"primary\"\n          cancelBtnBsStyle=\"light\"\n          customIcon=\"https://raw.githubusercontent.com/djorg83/react-bootstrap-sweetalert/master/demo/assets/thumbs-up.jpg\"\n          title=\"Cambios en la Actividad?\"\n          onConfirm={this.onConfirm}\n          onCancel={()=>this.setState({modal:null})}\n        >\n          <Form className=\"form-horizontal\">\n            <Row>\n              <Label md=\"3\">Vencimiento</Label>\n                <Col md=\"6\">\n                  <ReactDatetime\n                    inputProps={{\n                      className: \"form-control\",\n                      placeholder: \"dd-mm-aaaa\",\n                    }}\n                    timeFormat={false}\n                    value={this.state.fecha}\n                    onChange={(value) =>\n                      this.setState({ fecha: value })\n                    }\n                  />\n                </Col>\n              </Row>\n              <Row>\n                <Label md=\"3\">Grado o año</Label>\n                <Col md=\"6\">\n                  <Select\n                    className=\"react-select primary\"\n                    classNamePrefix=\"react-select\"\n                    name=\"singleSelect\"\n                    value={this.state.singleSelect}\n                    onChange={(value) =>\n                      this.setGrado(value )\n                    }\n                    options={this.props.Grado}\n                    placeholder=\"Seleccion el Grado o año\"\n                  />\n                  </Col>\n                  <Col md=\"3\">\n                  <Select\n                    className=\"react-select primary\"\n                    classNamePrefix=\"react-select\"\n                    name=\"seccion\"\n                    value={this.state.seccion}\n                    onChange={(value) =>\n                      this.setSeccion(value )\n                    }\n                    options={this.props.Seccion}\n                    placeholder=\"Seccion\"\n                  />\n                  </Col>\n              </Row>\n              <Row>\n                <Label md=\"3\">Titulo tarea</Label>\n                <Col md=\"9\">\n                  <FormGroup>\n                    <Input placeholder=\"Nombre descriptivo de la tarea\"\n                      type=\"text\"\n                      value={this.state.titulo}\n                      onChange={(texto) =>\n                          this.setState({ titulo:texto.target.value })\n                        }\n                      />\n                  </FormGroup>\n                </Col>\n              </Row>\n              <Row>\n                <Label md=\"3\">Asignatura</Label>\n                <Col md=\"9\">\n                  <Select\n                    className=\"react-select primary\"\n                    classNamePrefix=\"react-select\"\n                    name=\"singleSelect\"\n                    value={this.state.asignatura}\n                    onChange={(value) =>\n                      this.setState({ asignatura: value })\n                    }\n                    options={this.state.materias}\n                    placeholder=\"Selecciona el Area o Asignatura\"\n                  />\n                </Col>\n              </Row>\n              <Row>\n                <Label md=\"3\">Item Curriculo</Label>\n                <Col md=\"9\">\n                  <Select\n                    className=\"react-select primary\"\n                    classNamePrefix=\"react-select\"\n                    name=\"singleSelect\"\n                    value={this.state.curriculo}\n                    onChange={(value) =>\n                      this.setState({ curriculo: value })\n                    }\n                    options={this.state.itemscurriculo}\n                    placeholder=\"Selecciona el Item o Bloque\"\n                  />\n                </Col>\n              </Row>\n            </Form>\n            <Row>.</Row>\n            <Row>.</Row>\n            <Row>.</Row>\n            <Row>.</Row>\n        </ReactBSAlert>\n      ),\n    });\n  };\n\n  filtrar=(grado)=>{\n    alert(grado);\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"content\">\n          <Row>\n          {this.state.modal}\n            <Col md=\"6\" lg=\"6\" justify=\"center\">\n              <Card>\n                <CardHeader>\n                  <CardTitle tag=\"h4\">Registro de Tareas</CardTitle>\n                </CardHeader>\n                <CardBody>\n                  <Form className=\"form-horizontal\">\n                    <Row>\n                      <Label md=\"3\">Grado o año</Label>\n                      <Col md=\"6\">\n                        <Select\n                          className=\"react-select primary\"\n                          classNamePrefix=\"react-select\"\n                          name=\"singleSelect\"\n                          value={this.state.singleSelect}\n                          onChange={(value) =>\n                            this.setGrado(value )\n                          }\n                          options={this.props.Grado}\n                          placeholder=\"Seleccion el Grado o año\"\n                        />\n                      </Col>\n                      <Col md=\"3\">\n                        <Select\n                          className=\"react-select primary\"\n                          classNamePrefix=\"react-select\"\n                          name=\"seccion\"\n                          value={this.state.seccion}\n                          onChange={(value) =>\n                            this.setSeccion(value )\n                          }\n                          options={this.props.Seccion}\n                          placeholder=\"Seccion\"\n                        />\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Label md=\"3\">Titulo tarea</Label>\n                      <Col md=\"9\">\n                        <FormGroup>\n                          <Input placeholder=\"Nombre descriptivo de la tarea\"\n                            type=\"text\"\n                            value={this.state.titulo}\n                            onChange={(texto) =>\n                                this.setState({ titulo:texto.target.value })\n                              }\n                          />\n                        </FormGroup>\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Label md=\"3\">Asignatura</Label>\n                      <Col md=\"9\">\n                        <Select\n                          className=\"react-select primary\"\n                          classNamePrefix=\"react-select\"\n                          name=\"singleSelect\"\n                          value={this.state.asignatura}\n                          onChange={(value) =>\n                            this.setState({ asignatura: value })\n                          }\n                          options={this.state.materias}\n                          placeholder=\"Selecciona el Area o Asignatura\"\n                        />\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Label md=\"3\">Item Curriculo</Label>\n                      <Col md=\"9\">\n                        <Select\n                          className=\"react-select primary\"\n                          classNamePrefix=\"react-select\"\n                          name=\"singleSelect\"\n                          value={this.state.curriculo}\n                          onChange={(value) =>\n                            this.setState({ curriculo: value })\n                          }\n                          options={this.state.itemscurriculo}\n                          placeholder=\"Selecciona el Item o Bloque\"\n                        />\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Label md=\"3\">Vencimiento</Label>\n                      <Col md=\"6\">\n                        <ReactDatetime\n                          inputProps={{\n                            className: \"form-control\",\n                            placeholder: \"Date Picker Here\",\n                          }}\n                          timeFormat={false}\n                          value={this.state.fecha}\n                          onChange={(value) =>\n                            this.setState({ fecha: value })\n                          }\n                        />\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Label md=\"3\">Recurso</Label>\n                      <Col md=\"9\">\n                        <FormGroup>\n                          <div className=\"fileinput text-center\">\n                            <input type=\"file\"\n                              accept=\"*\"\n                              onChange={this.handleImageChange}\n                              ref=\"fileInput\"\n                            />\n                            <div>\n                              {this.state.file === null ? (\n                                <Button className=\"btn-round\" onClick={() => this.handleClick()}>\n                                  {this.props.avatar ? \"Add Photo\" : \"Selecciona el archivo\"}\n                                </Button>\n                              ) : (\n                                <span>\n                                  <Button className=\"btn-round\"\n                                    onClick={() => this.handleClick()}\n                                  >\n                                    Modificar\n                                  </Button>\n                                  {this.props.avatar ? <br /> : null}\n                                  <Button\n                                    color=\"danger\"\n                                    className=\"btn-round\"\n                                    onClick={() => this.handleRemove()}\n                                  >\n                                    <i className=\"fa fa-times\" />\n                                    Quitar\n                                  </Button>\n                                </span>\n                              )}\n                              {this.state.subiendo}\n                            </div>\n                          </div>\n                        </FormGroup>\n                      </Col>\n                    </Row>\n                  </Form>\n                </CardBody>\n                <CardFooter>\n                  <Row>\n                    <Col md=\"3\" />\n                    {this.state.file !== null ? (\n                    <Col md=\"9\">\n                      <Button className=\"btn-round\"\n                      color=\"info\" type=\"submit\"\n                      onClick={()=>this.uploadFile()}\n                    >\n                        Subir y registrar tarea\n                      </Button>\n                    </Col> ) : (null)}\n                  </Row>\n                </CardFooter>\n              </Card>\n            </Col>\n            {/* <Col md=\"6\" lg=\"6\">\n              <Card>\n                <CardHeader>\n                  <CardText tag=\"div\">\n                    <CardTitle tag=\"h4\">Recursos Recomendados</CardTitle>\n                    <p className=\"card-category\">\n                      Busquedas automaticas del Bot de micolegio\n                    </p>\n                  </CardText>\n                </CardHeader>\n                <CardBody className=\"table-responsive\">\n                  <Table className=\"table-hover\">\n                    <thead className=\"text-warning\">\n                      <tr>\n                        <th>#</th>\n                        <th>Tipo</th>\n                        <th>Titulo</th>\n                        <th>Fuente</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                    </tbody>\n                  </Table>\n                </CardBody>\n              </Card>\n            </Col> */}\n          </Row>\n          <Row>\n            <Col className=\"text-center\" lg=\"12\" md=\"12\">\n              <Row>\n                <Col className=\"text-center\" lg=\"12\" md=\"12\">\n                  <Card className=\"card-tasks\">\n                    <CardHeader>\n                      <Row>\n                        <Col md=\"6\">\n                          <CardTitle tag=\"h3\">\n                            <Button\n                              className=\"btn-round btn-icon\"\n                              className=\"btn-link\"\n                              color=\"info\"\n                              onClick={this.handleRefresh}\n                            >\n                              <i className=\"nc-icon nc-refresh-69\" />\n                            </Button>\n                            Tareas Activas\n                          </CardTitle>\n                        </Col>\n                        <Col md=\"6\">\n                          <Select\n                            className=\"react-select primary\"\n                            classNamePrefix=\"react-select\"\n                            name=\"parabuscar\"\n                            value={this.state.parabuscar}\n                            onChange={(value) => {\n                              this.verTareas(this.props.colegio.id,value,null);\n                              this.setState({parabuscar: value });\n                            }}\n                            options={this.props.Grado}\n                            placeholder=\"Seleccione Grado o Año\"\n                          />\n                        </Col>\n                      </Row>\n                    </CardHeader>\n                    <CardBody className=\"table-full-width table-hover\">\n                      <Row>\n                        <Col md=\"12\">\n                          <Table responsive>\n                          <thead>\n                            <tr>\n                              <th></th>\n                              <th>Grado</th>\n                              <th>Seccion</th>\n                              <th>Area</th>\n                              <th>Titulo</th>\n                              <th>Fecha</th>\n                              <th>Accion</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {this.state.tareas.map(tarea=>(\n                              <tr className=\"table\">\n                                <td>\n                                  <div className=\"timeline-badge danger\">\n                                    <i className=\"nc-icon nc-single-copy-04\" />\n                                  </div>\n                                </td>\n                                <td className=\"text-left\">\n                                  {tarea.grado}\n                                </td>\n                                <td className=\"text-left\">\n                                  {tarea.seccion}\n                                </td>\n                                <td className=\"text-left\">\n                                  {tarea.materia}\n                                </td>\n                                <td className=\"text-left\">\n                                  {tarea.titulo}\n                                </td>\n                                <td className=\"text-left\">\n                                  {tarea.fecha} ({tarea.hora})\n                                </td>\n                                <td className=\"td-actions text-left\">\n                                  <Button className=\"btn-round btn-icon\"\n                                      color=\"primary\"\n                                      // outline\n                                      href={tarea.direccion}\n                                      target=\"_blank\"\n                                    >\n                                      <i className=\"fa fa-download\" />\n                                    </Button>\n                                    <Button\n                                      className=\"btn-round btn-icon\"\n                                      color=\"danger\"\n                                      // outline\n                                      type=\"button\"\n                                      onClick={()=>this.quitarTarea(tarea._id)}\n                                    >\n                                      <i className=\"nc-icon nc-simple-remove\" />\n                                    </Button>\n                                </td>\n                              </tr>\n                            ))}\n                          </tbody>\n                          </Table>\n                        </Col>\n                      </Row>\n                    </CardBody>\n                  </Card>\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (reducers) => {\n  return reducers.mainReducer;\n}\n\nexport default connect(mapStateToProps, mainActions )(Widgets);"]},"metadata":{},"sourceType":"module"}