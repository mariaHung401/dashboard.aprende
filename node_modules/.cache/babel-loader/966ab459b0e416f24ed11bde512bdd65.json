{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macbook/Desktop/a.micole_rebe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/macbook/Desktop/a.micole_rebe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";// reactstrap components\nimport{Button,Card,CardHeader,CardBody,CardFooter,Form,Input,InputGroupAddon,InputGroupText,InputGroup,Container,Col,Row}from\"reactstrap\";import*as mainActions from\"../../actions/mainActions\";import{connect}from'react-redux';class Login extends React.Component{constructor(props){var _this;super(props);_this=this;this.autenticar=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,url,respuesta,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:data={codigo:_this.state.codigo,clave:_this.state.clave};url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/accesoColegio';_context.next=4;return fetch(url,{method:'POST',body:JSON.stringify(data),headers:{'Content-Type':'application/json'},Accept:'application/json'}).catch(error=>{console.log(error);});case 4:respuesta=_context.sent;_context.next=7;return respuesta.json();case 7:result=_context.sent;if(result.respuesta==\"200\"){_this.props.setColegio(result.datos[0],_this.state.codigo);_this.props.history.push(\"/admin/dashboard\");};case 10:case\"end\":return _context.stop();}},_callee);}));this.state={codigo:\"\",clave:\"\"};}componentDidMount(){document.body.classList.toggle(\"login-page\");}componentWillUnmount(){document.body.classList.toggle(\"login-page\");}render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"login-page\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"ml-auto mr-auto\",lg:\"4\",md:\"6\"},/*#__PURE__*/React.createElement(Form,{action:\"\",className:\"form\",method:\"\"},/*#__PURE__*/React.createElement(Card,{className:\"card-login\"},/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"h5\",{className:\"header text-center\"},\"Micolegio Aprende\"),/*#__PURE__*/React.createElement(\"h3\",{className:\"header text-center\"},\"Registrate\"))),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"prepend\"},/*#__PURE__*/React.createElement(InputGroupText,null,/*#__PURE__*/React.createElement(\"i\",{className:\"nc-icon nc-single-02\"}))),/*#__PURE__*/React.createElement(Input,{placeholder:\"Usuario\",type:\"text\",value:this.state.codigo,onChange:e=>this.setState({codigo:e.target.value})})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"prepend\"},/*#__PURE__*/React.createElement(InputGroupText,null,/*#__PURE__*/React.createElement(\"i\",{className:\"nc-icon nc-key-25\"}))),/*#__PURE__*/React.createElement(Input,{placeholder:\"Clave\",type:\"password\",autoComplete:\"on\",value:this.state.clave,onChange:e=>this.setState({clave:e.target.value})})),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(CardFooter,null,/*#__PURE__*/React.createElement(Button,{block:true,className:\"btn-round mb-3\",color:\"warning\",href:\"#pablo\",onClick:()=>this.autenticar()},\"Ingresa\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"full-page-background\",style:{backgroundImage:\"url(\".concat(require(\"assets/img/loginmicol.png\"),\")\")}}));}}const mapStateToProps=reducers=>{return reducers.mainReducer;};export default connect(mapStateToProps,mainActions)(Login);","map":{"version":3,"sources":["/Users/macbook/Desktop/a.micole_rebe/client/src/views/pages/Login.js"],"names":["React","Button","Card","CardHeader","CardBody","CardFooter","Form","Input","InputGroupAddon","InputGroupText","InputGroup","Container","Col","Row","mainActions","connect","Login","Component","constructor","props","autenticar","data","codigo","state","clave","url","fetch","method","body","JSON","stringify","headers","Accept","catch","error","console","log","respuesta","json","result","setColegio","datos","history","push","componentDidMount","document","classList","toggle","componentWillUnmount","render","e","setState","target","value","backgroundImage","require","mapStateToProps","reducers","mainReducer"],"mappings":"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","sourcesContent":["\nimport React from \"react\";\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Form,\n  Input,\n  InputGroupAddon,\n  InputGroupText,\n  InputGroup,\n  Container,\n  Col,\n  Row,\n} from \"reactstrap\";\nimport * as mainActions from \"../../actions/mainActions\";\nimport { connect } from 'react-redux';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      codigo:\"\",\n      clave:\"\"\n    };\n  }\n  componentDidMount() {\n    document.body.classList.toggle(\"login-page\");\n  }\n  componentWillUnmount() {\n    document.body.classList.toggle(\"login-page\");\n  }\n\n  autenticar = async () => {\n    const data = {\n      codigo:this.state.codigo,\n      clave:this.state.clave,\n    };\n    let url='https://webhooks.mongodb-realm.com/api/client/v2.0/app/aprendemicolegio-kmnsj/service/masterside/incoming_webhook/accesoColegio';\n    let respuesta = await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(data),\n        headers:{\n            'Content-Type': 'application/json'\n        },\n        Accept: 'application/json',\n    })\n    .catch(error => {\n        console.log(error);\n    });\n    let result = await respuesta.json();\n    if(result.respuesta==\"200\"){\n      this.props.setColegio(result.datos[0],this.state.codigo);\n      this.props.history.push(\"/admin/dashboard\");\n    };\n  };\n\n  render() {\n    return (\n      <div className=\"login-page\">\n        <Container>\n          <Row>\n            <Col className=\"ml-auto mr-auto\" lg=\"4\" md=\"6\">\n              <Form action=\"\" className=\"form\" method=\"\">\n                <Card className=\"card-login\">\n                  <CardHeader>\n                    <CardHeader>\n                      <h5 className=\"header text-center\">Micolegio Aprende</h5>\n                      <h3 className=\"header text-center\">Registrate</h3>\n                    </CardHeader>\n                  </CardHeader>\n                  <CardBody>\n                    <InputGroup>\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"nc-icon nc-single-02\" />\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input placeholder=\"Usuario\"\n                        type=\"text\"\n                        value={this.state.codigo}\n                        onChange={(e)=>\n                          this.setState({codigo:e.target.value})}\n                      />\n                    </InputGroup>\n                    <InputGroup>\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"nc-icon nc-key-25\" />\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input\n                        placeholder=\"Clave\"\n                        type=\"password\"\n                        autoComplete=\"on\"\n                        value={this.state.clave}\n                        onChange={(e)=>\n                          this.setState({clave:e.target.value})}\n                      />\n                    </InputGroup>\n                    <br />\n                  </CardBody>\n                  <CardFooter>\n                    <Button\n                      block\n                      className=\"btn-round mb-3\"\n                      color=\"warning\"\n                      href=\"#pablo\"\n                      onClick={() => this.autenticar()}\n                    >\n                      Ingresa\n                    </Button>\n                  </CardFooter>\n                </Card>\n              </Form>\n            </Col>\n          </Row>\n        </Container>\n        <div\n          className=\"full-page-background\"\n          style={{\n            backgroundImage:`url(${require(\"assets/img/loginmicol.png\")})`,\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (reducers) => {\n  return reducers.mainReducer;\n}\n\nexport default connect(mapStateToProps, mainActions )(Login);\n"]},"metadata":{},"sourceType":"module"}